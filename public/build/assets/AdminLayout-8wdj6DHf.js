import{z as $,k as L,j as v,H as S,c as l,o as n,i as u,f as s,g as h,F as _,r as y,x as P,e as m,n as d,t as c,d as f,a as p,y as x,b,T as j,I as M}from"./app-LUIn6i8R.js";const z={class:"min-h-screen bg-gray-50 flex"},B={class:"p-6 flex items-center gap-3"},T={key:0,class:"font-black tracking-tight text-xl"},A={class:"mt-6 px-3 space-y-1 overflow-y-auto max-h-[calc(100vh-180px)] custom-scrollbar"},D={key:0,class:"font-bold text-sm flex-grow"},E={key:1,class:"ml-auto w-5 h-5 bg-rose-500 text-white text-[10px] font-black rounded-full flex items-center justify-center shadow-lg shadow-rose-500/40 animate-pulse"},N={key:1},R=["onClick"],V={class:"flex items-center gap-4"},U={key:0},F={key:0,class:"mt-1 ml-10 space-y-1 border-l border-slate-700 pl-4 py-2 origin-top"},I={class:"flex-grow flex flex-col min-w-0 h-screen overflow-hidden"},O={class:"bg-white h-20 min-h-[5rem] shadow-sm flex items-center justify-between px-4 md:px-8 relative z-20 shrink-0"},G={id:"user-menu-container",class:"relative"},H={class:"hidden md:flex flex-col items-end text-right"},q={class:"font-black text-gray-900 text-sm group-hover:text-blue-600 transition-colors"},J={class:"text-[10px] font-bold text-blue-500 uppercase tracking-widest mt-0.5"},Q={key:0,class:"absolute right-0 mt-4 w-64 origin-top-right bg-white rounded-3xl shadow-2xl border border-slate-100 p-2 overflow-hidden focus:outline-none"},X={class:"px-5 py-4 border-b border-slate-50 mb-1"},Y={class:"text-[10px] font-black text-slate-400 uppercase tracking-widest"},Z={class:"text-xs font-bold text-slate-500 truncate mt-1"},ee={class:"flex-grow p-4 md:p-8 overflow-y-auto bg-gray-50/50"},se={__name:"AdminLayout",setup(te){const r=v(window.innerWidth>768),g=v(!1),i=v(null),C=()=>{r.value=!r.value},K=()=>{g.value=!g.value},w=o=>{g.value&&!o.target.closest("#user-menu-container")&&(g.value=!1)},W=o=>{i.value=i.value===o?null:o},k=L(()=>{const o=p().props.settings?.module_status||{},e=t=>o[t]!==!1;return[{name:"Dashboard",icon:"fa-th-large",route:"admin.dashboard"},{name:"Konten Profil",icon:"fa-user-tie",sub:[{name:`Sambutan ${p().props.settings?.sebutan_kepala||"Lurah"}`,route:"admin.sambutan.index",show:e("modul_profil_sambutan")},{name:"Visi & Misi",route:"admin.visimisi.index",show:e("modul_profil_visimisi")},{name:`Sejarah ${p().props.settings?.sebutan_wilayah||"Kelurahan"}`,route:"admin.sejarah.index",show:e("modul_profil_sejarah")},{name:`Kondisi ${p().props.settings?.sebutan_wilayah||"Kelurahan"}`,route:"admin.kondisi.index",show:e("modul_profil_kondisi")},{name:"Struktur Organisasi",route:"admin.struktur.index",show:e("modul_pemerintahan_aparatur")}].filter(t=>t.show!==!1)},{name:"Informasi Publik",icon:"fa-newspaper",sub:[{name:"Berita & Informasi",route:"admin.berita.index",show:e("modul_berita")},{name:"APBDes / Anggaran",route:"admin.anggaran.index",show:e("modul_pemerintahan_anggaran")},{name:"Pusat Download",route:"admin.download.index",show:e("modul_download")},{name:"Program Kerja",route:"admin.program.index",show:e("modul_program")},{name:"Potensi Wilayah",route:"admin.potensi.index",show:e("modul_potensi")}].filter(t=>t.show!==!1)},{name:"Lembaga",icon:"fa-users-cog",sub:[{name:"Rukun Warga (RW)",route:"admin.rukun-warga.index",show:e("modul_lembaga_rt_rw")},{name:"Rukun Tetangga (RT)",route:"admin.rukun-tetangga.index",show:e("modul_lembaga_rt_rw")},{name:"LPMK",route:"admin.lpmk.index",show:e("modul_lembaga_lpmk")},{name:"PKK",route:"admin.pkk.index",show:e("modul_lembaga_pkk")},{name:"Karang Taruna",route:"admin.karang-taruna.index",show:e("modul_lembaga_karang_taruna")},{name:"Majelis Taklim",route:"admin.majelis-taklim.index",show:e("modul_lembaga_majelis_taklim")}].filter(t=>t.show!==!1)},{name:"Statistik Penduduk",icon:"fa-users",route:"admin.kependudukan.index",show:e("modul_statistik")},{name:"Galeri Foto",icon:"fa-images",route:"admin.galeri.index",show:e("modul_galeri")},{name:"Layanan & Surat",icon:"fa-concierge-bell",route:"admin.layanan.index",show:e("modul_layanan")},{name:"Pengaduan Warga",icon:"fa-exclamation-circle",route:"admin.pengaduan.index",show:e("modul_pengaduan")},{name:"Kontak & Sosmed",icon:"fa-address-book",route:"admin.kontak"},{name:"Konfigurasi Web",icon:"fa-cogs",route:"admin.konfigurasi"}].filter(t=>!(t.show===!1||t.sub&&t.sub.length===0))});return $(()=>{window.addEventListener("click",w),k.value.forEach(e=>{e.sub&&e.sub.some(t=>t.route!=="#"&&(route().current(t.route,t.params)||t.route.endsWith(".index")&&route().current(t.route.replace(".index",".*"),t.params)))&&(i.value=e.name)});const o=()=>{window.innerWidth<=768?r.value=!1:r.value=!0};window.addEventListener("resize",o)}),S(()=>{window.removeEventListener("click",w)}),(o,e)=>(n(),l("div",z,[r.value?(n(),l("div",{key:0,onClick:e[0]||(e[0]=a=>r.value=!1),class:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 md:hidden transition-opacity"})):u("",!0),s("aside",{class:d(["bg-slate-900 text-white transition-all duration-300 flex-shrink-0 z-50 fixed md:relative h-screen",r.value?"w-72 translate-x-0":"w-20 translate-x-[-100%] md:translate-x-0"])},[s("div",B,[e[3]||(e[3]=s("div",{class:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-600/30"},[s("i",{class:"fas fa-shield-alt text-xl"})],-1)),r.value?(n(),l("span",T,[...e[2]||(e[2]=[h("Admin",-1),s("span",{class:"text-blue-500"},"Panel",-1)])])):u("",!0)]),s("nav",A,[(n(!0),l(_,null,y(k.value,a=>(n(),l("div",{key:a.name},[a.sub?(n(),l("div",N,[s("button",{onClick:t=>W(a.name),class:d(["w-full flex items-center justify-between gap-4 px-4 py-3 rounded-xl transition-all group font-bold text-sm hover:bg-slate-800/50",i.value===a.name||a.sub&&a.sub.some(t=>t.route!=="#"&&o.route().current(t.route,t.params))?"text-blue-400 bg-slate-800/30":"text-slate-400 hover:text-blue-400"])},[s("div",V,[s("i",{class:d(["fas w-6 text-center text-lg",a.icon,i.value===a.name||a.sub&&a.sub.some(t=>t.route!=="#"&&o.route().current(t.route,t.params))?"text-blue-400":"text-slate-500 group-hover:text-blue-400"])},null,2),r.value?(n(),l("span",U,c(a.name),1)):u("",!0)]),r.value?(n(),l("i",{key:0,class:d(["fas fa-chevron-right text-[10px] transition-transform",i.value===a.name?"rotate-90":""])},null,2)):u("",!0)],10,R),b(j,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-y-0 opacity-0","enter-to-class":"transform scale-y-100 opacity-100","leave-active-class":"transition duration-100 ease-in","leave-from-class":"transform scale-y-100 opacity-100","leave-to-class":"transform scale-y-0 opacity-0"},{default:m(()=>[r.value&&i.value===a.name?(n(),l("div",F,[(n(!0),l(_,null,y(a.sub,t=>(n(),P(f(x),{key:t.name,href:t.route==="#"?"#":o.route(t.route,t.params||{}),class:d(["block py-2 text-xs font-bold transition-colors",t.route!=="#"&&o.route().current(t.route,t.params)?"text-blue-400":"text-slate-500 hover:text-blue-400"])},{default:m(()=>[h(c(t.name),1)]),_:2},1032,["href","class"]))),128))])):u("",!0)]),_:2},1024)])):(n(),P(f(x),{key:0,href:a.route?a.route==="#"?"#":o.route(a.route):"#",onClick:e[1]||(e[1]=t=>i.value=null),class:d(["flex items-center gap-4 px-4 py-3 rounded-xl transition-all group hover:bg-slate-800/50",a.route&&(o.route().current(a.route)||a.route.endsWith(".index")&&o.route().current(a.route.replace(".index",".*")))?"text-blue-400":"text-slate-400 hover:text-blue-400"])},{default:m(()=>[s("i",{class:d(["fas w-6 text-center text-lg",a.icon,a.route&&(o.route().current(a.route)||a.route.endsWith(".index")&&o.route().current(a.route.replace(".index",".*")))?"text-blue-400":"text-slate-500 group-hover:text-blue-400"])},null,2),r.value?(n(),l("span",D,c(a.name),1)):u("",!0),a.name==="Pengaduan Warga"&&f(p)().props.pendingPengaduanCount>0?(n(),l("div",E,c(f(p)().props.pendingPengaduanCount),1)):u("",!0)]),_:2},1032,["href","class"]))]))),128))])],2),s("main",I,[s("header",O,[s("button",{onClick:C,class:"w-10 h-10 bg-gray-50 rounded-lg flex items-center justify-center hover:bg-gray-100 text-gray-400 transition-colors"},[s("i",{class:d(["fas",r.value?"fa-indent":"fa-outdent"])},null,2)]),s("div",G,[s("button",{onClick:K,class:"flex items-center gap-4 group"},[s("div",H,[s("span",q,c(o.$page.props.auth.user.name),1),s("span",J,c((o.$page.props.settings?.sebutan_wilayah||"Kel.")+" "+(o.$page.props.settings?.nama_wilayah||"[Nama Wilayah]")),1)]),e[4]||(e[4]=s("div",{class:"w-10 h-10 rounded-xl bg-gradient-to-tr from-blue-600 to-indigo-600 border-2 border-white shadow-lg overflow-hidden flex items-center justify-center transition-transform hover:scale-105 active:scale-95 text-white shrink-0"},[s("i",{class:"fas fa-user-shield text-lg"})],-1))]),b(j,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:m(()=>[g.value?(n(),l("div",Q,[s("div",X,[s("p",Y,c(o.$page.props.auth.user.name),1),s("p",Z,c(o.$page.props.auth.user.email),1)]),b(f(x),{href:o.route("admin.profile.index"),class:"flex items-center gap-3 px-4 py-3 text-sm font-bold text-slate-600 hover:bg-blue-50 hover:text-blue-600 rounded-2xl transition-all"},{default:m(()=>[...e[5]||(e[5]=[s("i",{class:"fas fa-user-circle text-lg opacity-50"},null,-1),h(" Lihat Profil ",-1)])]),_:1},8,["href"]),b(f(x),{href:o.route("admin.konfigurasi"),class:"flex items-center gap-3 px-4 py-3 text-sm font-bold text-slate-600 hover:bg-blue-50 hover:text-blue-600 rounded-2xl transition-all"},{default:m(()=>[...e[6]||(e[6]=[s("i",{class:"fas fa-cogs text-lg opacity-50"},null,-1),h(" Konfigurasi Web ",-1)])]),_:1},8,["href"]),e[8]||(e[8]=s("hr",{class:"my-1 border-slate-50"},null,-1)),b(f(x),{href:o.route("logout"),method:"post",as:"button",class:"w-full flex items-center gap-3 px-4 py-3 text-sm font-bold text-rose-500 hover:bg-rose-50 rounded-2xl transition-all text-left"},{default:m(()=>[...e[7]||(e[7]=[s("i",{class:"fas fa-sign-out-alt text-lg opacity-50"},null,-1),h(" Logout ",-1)])]),_:1},8,["href"])])):u("",!0)]),_:1})])]),s("div",ee,[M(o.$slots,"default")])])]))}};export{se as _};
