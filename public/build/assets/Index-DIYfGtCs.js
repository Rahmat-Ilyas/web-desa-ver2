import{w as F,a as V,u as K,x as P,o,e as m,b as g,f as e,d as n,h as S,g as k,t as i,c as r,i as p,F as U,r as H,T as y,j as b,l as $,m as _,v as W,q}from"./app-BVa_JgRi.js";import{_ as E}from"./AdminLayout-D0lfD2ZN.js";/* empty css            */const G={class:"max-w-[1200px] mx-auto px-4 sm:px-6"},I={class:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4"},L={class:"inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-widest mb-3 border border-blue-100 shadow-sm"},O={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},A={class:"relative z-10 flex flex-col items-center text-center"},J={class:"w-24 h-24 rounded-full border-4 border-white shadow-lg mb-4 bg-slate-100 overflow-hidden relative group-hover:scale-105 transition-transform"},Q=["src"],X={key:1,class:"w-full h-full flex items-center justify-center text-slate-300"},Y={class:"px-3 py-1 rounded-full bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-widest mb-2"},Z={class:"text-lg font-black text-slate-900 mb-1"},ee={class:"w-full pt-4 border-t border-slate-50 flex items-center justify-between text-sm"},te=["href"],se={key:1,class:"text-slate-300 italic text-xs"},ae={class:"absolute top-4 right-4 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-20"},le=["onClick"],oe=["onClick"],ne={key:0,class:"col-span-full py-20 text-center border-2 border-dashed border-slate-200 rounded-[3rem] bg-slate-50/50"},re={key:0,class:"fixed inset-0 z-[100] overflow-y-auto"},ie={class:"flex min-h-full items-center justify-center p-4"},de={class:"relative bg-white rounded-[2.5rem] shadow-2xl w-full max-w-lg p-8 overflow-hidden"},ue={class:"flex justify-between items-center mb-8"},ce={class:"text-xl font-black text-slate-900"},pe={class:"grid grid-cols-2 gap-5"},be={class:"col-span-1"},fe={key:0,class:"text-xs text-rose-500 mt-1 ml-3 font-bold"},xe={class:"col-span-1"},me={class:"relative group cursor-pointer"},ge={class:"w-full bg-slate-50 border-2 border-dashed border-slate-200 group-hover:border-blue-400 rounded-2xl p-4 flex items-center justify-center gap-3 transition-colors"},he={class:"text-xs font-bold text-slate-500 group-hover:text-blue-600 line-clamp-1"},ve={class:"pt-4 flex gap-3"},we=["disabled"],ke={key:0,class:"fixed inset-0 z-[110] flex items-center justify-center p-4"},ye={key:0,class:"fixed bottom-10 right-10 z-[120] p-4 bg-white border border-emerald-100 rounded-2xl flex items-center gap-3 shadow-2xl"},_e={class:"text-slate-500 text-[10px] font-bold"},je={__name:"Index",props:{members:Array},setup(C){const d=b({show:!1,message:"",type:"success"}),R=V(),f=(a,t="success")=>{d.value.message=a,d.value.type=t,d.value.show=!0,setTimeout(()=>d.value.show=!1,3e3)};F(()=>R.props.flash?.success,a=>{a&&f(a)});const x=b(!1),u=b(null),h=b(!1),v=b(null),s=K({no_rw:"",nama_ketua:"",no_hp:"",foto_ketua:null}),j=()=>{u.value=null,s.reset(),x.value=!0},D=a=>{u.value=a,s.no_rw=a.no_rw,s.nama_ketua=a.nama_ketua,s.no_hp=a.no_hp,s.foto_ketua=null,x.value=!0},c=()=>{x.value=!1,s.reset()},N=a=>{a.target.files[0]&&(s.foto_ketua=a.target.files[0])},T=()=>{u.value?s.transform(a=>({...a,_method:"PUT"})).post(route("admin.rukun-warga.update",u.value.id),{onSuccess:()=>{c(),f("Data RW berhasil diperbarui")},forceFormData:!0}):s.post(route("admin.rukun-warga.store"),{onSuccess:()=>{c(),f("Data RW berhasil ditambahkan")},forceFormData:!0})},B=a=>{v.value=a,h.value=!0},w=()=>{h.value=!1},M=()=>{v.value&&q.delete(route("admin.rukun-warga.destroy",v.value.id),{onSuccess:()=>{w(),f("Data RW berhasil dihapus")}})};return(a,t)=>(o(),P(E,null,{default:m(()=>[g(n(S),{title:"Manajemen RW"}),e("div",G,[e("div",I,[e("div",null,[e("span",L,[t[3]||(t[3]=e("i",{class:"fas fa-sitemap"},null,-1)),k(" Lembaga "+i(a.$page.props.settings?.sebutan_wilayah||"Kelurahan"),1)]),t[4]||(t[4]=e("h1",{class:"text-3xl font-black text-slate-900 tracking-tight leading-none mb-2"},"Rukun Warga (RW) ",-1)),t[5]||(t[5]=e("p",{class:"text-slate-500 font-bold text-sm"},"Kelola data ketua dan pengurus RW.",-1))]),e("button",{onClick:j,class:"px-6 py-3 rounded-xl bg-blue-600 text-white font-black text-xs uppercase tracking-widest hover:bg-blue-700 transition-all flex items-center gap-2 shadow-lg shadow-blue-600/20"},[...t[6]||(t[6]=[e("i",{class:"fas fa-plus"},null,-1),k(" Tambah RW ",-1)])])]),e("div",O,[(o(!0),r(U,null,H(C.members,l=>(o(),r("div",{key:l.id,class:"bg-white rounded-[2rem] border border-slate-100 p-6 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group relative overflow-hidden"},[t[12]||(t[12]=e("div",{class:"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-bl-[4rem] -mr-8 -mt-8 z-0"},null,-1)),e("div",A,[e("div",J,[l.foto_ketua?(o(),r("img",{key:0,src:"/storage/"+l.foto_ketua,class:"w-full h-full object-cover"},null,8,Q)):(o(),r("div",X,[...t[7]||(t[7]=[e("i",{class:"fas fa-user text-3xl"},null,-1)])]))]),e("span",Y," RW "+i(l.no_rw),1),e("h3",Z,i(l.nama_ketua),1),t[9]||(t[9]=e("p",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4"},"Ketua RW",-1)),e("div",ee,[l.no_hp?(o(),r("a",{key:0,href:"https://wa.me/"+l.no_hp,target:"_blank",class:"text-slate-500 font-bold hover:text-green-500 transition-colors flex items-center gap-2"},[t[8]||(t[8]=e("i",{class:"fab fa-whatsapp text-lg"},null,-1)),k(" "+i(l.no_hp),1)],8,te)):(o(),r("span",se,"No HP Kosong"))])]),e("div",ae,[e("button",{onClick:z=>D(l),class:"w-8 h-8 rounded-lg bg-white text-blue-500 hover:bg-blue-500 hover:text-white shadow-sm flex items-center justify-center transition-all"},[...t[10]||(t[10]=[e("i",{class:"fas fa-pen text-xs"},null,-1)])],8,le),e("button",{onClick:z=>B(l),class:"w-8 h-8 rounded-lg bg-white text-rose-500 hover:bg-rose-500 hover:text-white shadow-sm flex items-center justify-center transition-all"},[...t[11]||(t[11]=[e("i",{class:"fas fa-trash text-xs"},null,-1)])],8,oe)])]))),128)),C.members.length===0?(o(),r("div",ne,[...t[13]||(t[13]=[e("div",{class:"w-20 h-20 mx-auto bg-slate-100 rounded-full flex items-center justify-center text-slate-400 mb-4"},[e("i",{class:"fas fa-users-slash text-3xl"})],-1),e("p",{class:"text-slate-500 font-bold"},"Belum ada data RW.",-1)])])):p("",!0)])]),g(y,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:m(()=>[x.value?(o(),r("div",re,[e("div",{class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:c}),e("div",ie,[e("div",de,[e("div",ue,[e("h2",ce,i(u.value?"Edit Data RW":"Tambah RW Baru"),1),e("button",{onClick:c,class:"p-2 hover:bg-slate-100 rounded-xl transition-colors text-slate-400"},[...t[14]||(t[14]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("form",{onSubmit:$(T,["prevent"]),class:"space-y-5"},[e("div",pe,[e("div",be,[t[15]||(t[15]=e("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Nomor RW",-1)),_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>n(s).no_rw=l),type:"text",class:"w-full bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white px-5 py-3 rounded-2xl font-bold text-slate-700 transition-all outline-none text-center",placeholder:"01",required:""},null,512),[[W,n(s).no_rw]]),n(s).errors.no_rw?(o(),r("p",fe,i(n(s).errors.no_rw),1)):p("",!0)]),e("div",xe,[t[16]||(t[16]=e("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"No. HP / WA",-1)),_(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>n(s).no_hp=l),type:"text",class:"w-full bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white px-5 py-3 rounded-2xl font-bold text-slate-700 transition-all outline-none",placeholder:"08..."},null,512),[[W,n(s).no_hp]])])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Nama Ketua RW",-1)),_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>n(s).nama_ketua=l),type:"text",class:"w-full bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white px-5 py-3 rounded-2xl font-bold text-slate-700 transition-all outline-none",placeholder:"Nama Lengkap",required:""},null,512),[[W,n(s).nama_ketua]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Foto Ketua (Opsional)",-1)),e("div",me,[e("input",{type:"file",onChange:N,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",accept:"image/*"},null,32),e("div",ge,[t[18]||(t[18]=e("i",{class:"fas fa-camera text-slate-400 group-hover:text-blue-500"},null,-1)),e("span",he,i(n(s).foto_ketua?n(s).foto_ketua.name||"Ganti foto terpilih":"Upload Foto JPG/PNG"),1)])])]),e("div",ve,[e("button",{type:"button",onClick:c,class:"flex-1 py-3 bg-slate-100 text-slate-600 font-black text-xs uppercase tracking-widest rounded-xl hover:bg-slate-200 transition-all"},"Batal"),e("button",{type:"submit",disabled:n(s).processing,class:"flex-[2] py-3 bg-blue-600 text-white font-black text-xs uppercase tracking-widest rounded-xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 disabled:opacity-50"},i(u.value?"Simpan":"Tambah"),9,we)])],32)])])])):p("",!0)]),_:1}),g(y,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:m(()=>[h.value?(o(),r("div",ke,[e("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:w}),e("div",{class:"bg-white rounded-[2.5rem] w-full max-w-sm p-8 shadow-2xl relative z-10 text-center"},[t[20]||(t[20]=e("div",{class:"w-16 h-16 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-4 text-rose-500"},[e("i",{class:"fas fa-trash-alt text-2xl"})],-1)),t[21]||(t[21]=e("h3",{class:"text-lg font-black text-slate-900 mb-2"},"Hapus Data RW?",-1)),t[22]||(t[22]=e("p",{class:"text-slate-500 font-medium text-xs mb-6"},"Data yang dihapus tidak dapat dikembalikan.",-1)),e("div",{class:"flex gap-3"},[e("button",{onClick:w,class:"flex-1 py-3 bg-slate-100 rounded-xl font-bold text-xs text-slate-600 uppercase tracking-widest hover:bg-slate-200"},"Batal"),e("button",{onClick:M,class:"flex-1 py-3 bg-rose-600 rounded-xl font-bold text-xs text-white uppercase tracking-widest hover:bg-rose-700 shadow-lg shadow-rose-500/30"},"Hapus")])])])):p("",!0)]),_:1}),g(y,{"enter-active-class":"transform transition duration-500 ease-out","enter-from-class":"translate-y-10 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"translate-y-10 opacity-0"},{default:m(()=>[d.value.show?(o(),r("div",ye,[t[24]||(t[24]=e("div",{class:"w-8 h-8 bg-emerald-500 rounded-full flex items-center justify-center text-white shadow-md shadow-emerald-500/20"},[e("i",{class:"fas fa-check text-xs"})],-1)),e("div",null,[t[23]||(t[23]=e("p",{class:"text-slate-900 font-black text-xs"},"Berhasil!",-1)),e("p",_e,i(d.value.message),1)])])):p("",!0)]),_:1})]),_:1}))}};export{je as default};
