import{u as U,w as T,a as V,x as F,o as r,e as S,b as C,f as e,d as o,h as E,c as i,i as d,g as k,T as L,j as v,t as n,F as f,r as w,y as N,n as O,l as P,m as b,v as y,p as H,q as A}from"./app-DcTECojv.js";import{_ as $}from"./AdminLayout-BmkSWrfS.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const z={class:"max-w-[1200px] mx-auto px-4 sm:px-6"},G={class:"mb-5"},J={class:"flex flex-col md:flex-row items-center justify-between gap-4"},W={key:0,class:"fixed bottom-10 right-10 z-50 p-5 bg-white border border-emerald-100 rounded-3xl flex items-center gap-4 shadow-2xl"},Q={class:"text-slate-500 text-xs font-bold"},R={class:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden"},X={class:"overflow-x-auto"},Y={class:"w-full text-left border-collapse"},Z={class:"divide-y divide-slate-50"},ee={class:"px-8 py-6"},te={class:"flex items-center gap-4"},se={class:"w-16 h-16 rounded-2xl overflow-hidden shadow-sm bg-slate-100 shrink-0"},le=["src","alt"],ae={class:"font-black text-slate-900 text-sm line-clamp-1 group-hover:text-blue-600 transition-colors uppercase"},oe={class:"text-[10px] font-bold text-slate-400 mt-1 line-clamp-1"},re={class:"px-8 py-6"},ie={class:"px-3 py-1 bg-slate-100 text-slate-600 text-[10px] font-black rounded-lg uppercase tracking-tight"},ne={class:"px-8 py-6 text-[10px] font-bold text-slate-500"},de={class:"px-8 py-6"},ue={class:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all translate-x-2 group-hover:translate-x-0"},ce=["onClick"],pe=["onClick"],xe={key:0},fe={key:0,class:"px-8 py-6 border-t border-slate-50 flex justify-center bg-slate-50/30"},be={class:"flex gap-1"},ge=["innerHTML"],me={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center p-4"},he={class:"relative bg-white rounded-3xl w-full max-w-lg shadow-2xl overflow-hidden animate-fade-in-up"},ke={class:"p-8 border-b border-slate-50 flex items-center justify-between"},ve={class:"font-black text-slate-900 text-lg"},we={class:"p-8"},ye={key:0,class:"text-red-500 text-xs mt-1"},_e={class:"grid grid-cols-2 gap-4"},je=["value"],Te={key:0,class:"text-red-500 text-xs mt-1"},Fe={key:1,class:"text-[10px] text-slate-400 mt-2 font-medium italic"},Se={class:"pt-4 flex items-center justify-end gap-3"},Ce=["disabled"],Me={key:0,class:"fas fa-spinner fa-spin"},Be={__name:"Index",props:{galeris:Object},setup(x){const g=v(!1),c=v(!1),u=v({show:!1,message:"",type:"success"}),_=V(),s=U({id:null,judul:"",kategori:"Kegiatan",deskripsi:"",tanggal:new Date().toISOString().split("T")[0],image:null}),M=["Kegiatan","Pembangunan","Sosial","Keagamaan"],m=(a,t="success")=>{u.value.message=a,u.value.type=t,u.value.show=!0,setTimeout(()=>u.value.show=!1,3e3)};T(()=>_.props.flash?.success,a=>{a&&m(a)}),T(()=>_.props.errors,a=>{Object.keys(a).length>0&&m("Terdapat kesalahan pada input form","error")});const j=(a=null)=>{c.value=!!a,a?(s.id=a.id,s.judul=a.judul,s.kategori=a.kategori,s.deskripsi=a.deskripsi,s.tanggal=a.tanggal,s.image=null):(s.reset(),s.id=null,s.image=null,s.tanggal=new Date().toISOString().split("T")[0]),g.value=!0},p=()=>{g.value=!1,s.reset(),s.clearErrors()},B=()=>{c.value?s.post(route("admin.galeri.update",s.id),{onSuccess:()=>p(),forceFormData:!0,_method:"PUT"}):s.post(route("admin.galeri.store"),{onSuccess:()=>p()})},D=a=>{confirm("Apakah Anda yakin ingin menghapus foto ini?")&&A.delete(route("admin.galeri.destroy",a),{preserveScroll:!0,onSuccess:()=>m("Foto berhasil dihapus","success")})},K=a=>a?(a.startsWith("http"),a):"https://placehold.co/100x100?text=No+Photo",I=a=>{a.target.src="https://placehold.co/100x100?text=No+Photo",a.target.classList.add("opacity-50")};return(a,t)=>(r(),F($,null,{default:S(()=>[C(o(E),{title:"Kelola Galeri"}),e("div",z,[e("div",G,[t[8]||(t[8]=e("div",{class:"mb-6"},[e("div",{class:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-widest mb-3"},[e("i",{class:"fas fa-images"}),k(" Media & Dokumentasi ")]),e("h1",{class:"text-4xl font-black text-slate-900 tracking-tight"},"Galeri Foto"),e("p",{class:"text-slate-500 font-bold text-sm mt-2"},"Kelola dokumentasi kegiatan dan pembangunan kelurahan.")],-1)),e("div",J,[t[7]||(t[7]=e("div",{class:"w-full md:w-auto"},null,-1)),e("button",{onClick:t[0]||(t[0]=l=>j()),class:"w-full md:w-auto px-8 py-4 rounded-2xl bg-blue-600 text-white font-black text-sm hover:bg-blue-700 transition-all flex items-center justify-center gap-2 shadow-xl shadow-blue-600/20 whitespace-nowrap"},[...t[6]||(t[6]=[e("i",{class:"fas fa-plus"},null,-1),k(" TAMBAH FOTO ",-1)])])])]),C(L,{"enter-active-class":"transform transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:S(()=>[u.value.show?(r(),i("div",W,[t[10]||(t[10]=e("div",{class:"w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-emerald-500/20"},[e("i",{class:"fas fa-check text-xl"})],-1)),e("div",null,[t[9]||(t[9]=e("p",{class:"text-slate-900 font-black text-sm"},"Berhasil!",-1)),e("p",Q,n(u.value.message),1)])])):d("",!0)]),_:1}),e("div",R,[e("div",X,[e("table",Y,[t[14]||(t[14]=e("thead",null,[e("tr",{class:"border-b border-slate-50"},[e("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Foto"),e("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Kategori"),e("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Tanggal"),e("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"}," Aksi")])],-1)),e("tbody",Z,[(r(!0),i(f,null,w(x.galeris?.data||[],l=>(r(),i("tr",{key:l.id,class:"hover:bg-slate-50/50 transition-colors group"},[e("td",ee,[e("div",te,[e("div",se,[e("img",{src:K(l.image),alt:l.judul,onError:I,class:"w-full h-full object-cover"},null,40,le)]),e("div",null,[e("h4",ae,n(l.judul),1),e("p",oe,n(l.deskripsi||"Tidak ada deskripsi"),1)])])]),e("td",re,[e("span",ie,n(l.kategori),1)]),e("td",ne,n(new Date(l.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})),1),e("td",de,[e("div",ue,[e("button",{onClick:h=>j(l),class:"w-10 h-10 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shadow-sm hover:shadow-md hover:shadow-blue-200",title:"Edit"},[...t[11]||(t[11]=[e("i",{class:"fas fa-edit text-xs"},null,-1)])],8,ce),e("button",{onClick:h=>D(l.id),class:"w-10 h-10 rounded-xl bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white transition-all flex items-center justify-center shadow-sm hover:shadow-md hover:shadow-rose-200",title:"Hapus"},[...t[12]||(t[12]=[e("i",{class:"fas fa-trash-alt text-xs"},null,-1)])],8,pe)])])]))),128)),x.galeris?.data?.length?d("",!0):(r(),i("tr",xe,[...t[13]||(t[13]=[e("td",{colspan:"4",class:"px-8 py-20 text-center"},[e("div",{class:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200"},[e("i",{class:"fas fa-images text-2xl"})]),e("p",{class:"text-slate-400 font-bold text-sm"},"Belum ada foto galeri.")],-1)])]))])])]),x.galeris?.links?.length>3?(r(),i("div",fe,[e("div",be,[(r(!0),i(f,null,w(x.galeris?.links||[],(l,h)=>(r(),i(f,{key:h},[l.url===null?(r(),i("div",{key:0,class:"px-4 py-2 rounded-xl text-slate-300 text-[10px] font-black uppercase tracking-widest cursor-not-allowed",innerHTML:l.label},null,8,ge)):(r(),F(o(N),{key:1,class:O(["px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all",l.active?"bg-blue-600 text-white":"text-slate-500 hover:bg-blue-50"]),href:l.url,innerHTML:l.label},null,8,["class","href","innerHTML"]))],64))),128))])])):d("",!0)]),g.value?(r(),i("div",me,[e("div",{class:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity",onClick:p}),e("div",he,[e("div",ke,[e("h3",ve,n(c.value?"Edit Foto":"Tambah Foto Baru"),1),e("button",{onClick:p,class:"text-slate-400 hover:text-slate-600"},[...t[15]||(t[15]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",we,[e("form",{onSubmit:P(B,["prevent"]),class:"space-y-5"},[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Judul Foto",-1)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>o(s).judul=l),type:"text",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-500 font-bold text-sm text-slate-700",placeholder:"Contoh: Kegiatan Kerja Bakti...",required:""},null,512),[[y,o(s).judul]]),o(s).errors.judul?(r(),i("div",ye,n(o(s).errors.judul),1)):d("",!0)]),e("div",_e,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Kategori",-1)),b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>o(s).kategori=l),class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-500 font-bold text-sm text-slate-700"},[(r(),i(f,null,w(M,l=>e("option",{key:l,value:l},n(l),9,je)),64))],512),[[H,o(s).kategori]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Tanggal",-1)),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o(s).tanggal=l),type:"date",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-500 font-bold text-sm text-slate-700",required:""},null,512),[[y,o(s).tanggal]])])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Upload Foto",-1)),e("input",{type:"file",onInput:t[4]||(t[4]=l=>o(s).image=l.target.files[0]),accept:"image/*",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-500 font-bold text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),o(s).errors.image?(r(),i("div",Te,n(o(s).errors.image),1)):d("",!0),c.value?(r(),i("p",Fe,"* Biarkan kosong jika tidak ingin mengubah foto")):d("",!0)]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Deskripsi (Opsional)",-1)),b(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=l=>o(s).deskripsi=l),rows:"3",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-500 font-bold text-sm text-slate-700",placeholder:"Tambahkan keterangan singkat..."},null,512),[[y,o(s).deskripsi]])]),e("div",Se,[e("button",{type:"button",onClick:p,class:"px-6 py-3 rounded-xl bg-slate-100 text-slate-600 font-bold text-xs uppercase tracking-widest hover:bg-slate-200 transition-colors"},"Batal"),e("button",{type:"submit",disabled:o(s).processing,class:"px-6 py-3 rounded-xl bg-blue-600 text-white font-bold text-xs uppercase tracking-widest hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2"},[o(s).processing?(r(),i("i",Me)):d("",!0),k(" "+n(c.value?"Simpan Perubahan":"Upload Foto"),1)],8,Ce)])],32)])])])):d("",!0)])]),_:1}))}},Ve=q(Be,[["__scopeId","data-v-0b602999"]]);export{Ve as default};
