import{w as q,a as O,u as A,x as R,o as i,e as v,b as h,f as t,d as o,h as J,g as x,t as n,l as S,m as b,v as f,C as W,c as d,F as U,r as N,i as P,T,j as k,q as B}from"./app-DpFuQUsd.js";import{_ as Y}from"./AdminLayout-CprdBrRM.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const X={class:"max-w-[1400px] mx-auto px-4 sm:px-6"},Z={class:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10"},tt={class:"inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-widest mb-3 border border-blue-100 shadow-sm"},et={class:"text-slate-500 font-bold text-sm"},st={class:"grid grid-cols-1 lg:grid-cols-12 gap-10 items-start"},at={class:"lg:col-span-6 space-y-10"},lt={class:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 p-5 md:p-10"},ot={class:"space-y-8"},nt={class:"pt-8 border-t border-slate-50"},rt={class:"space-y-3 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar"},it={class:"flex-grow relative"},dt=["onUpdate:modelValue"],ut={class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 text-[10px] font-black"},ct=["onClick"],pt=["disabled"],xt={class:"lg:col-span-6 space-y-10"},bt={class:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 p-4 md:p-10 overflow-hidden"},ft={class:"overflow-x-auto mt-4"},mt={class:"w-full text-left border-collapse"},gt={class:"divide-y divide-slate-50"},vt={class:"px-4 py-5 text-center"},ht={class:"font-black text-slate-300 group-hover:text-blue-600 transition-colors text-sm"},kt={class:"px-4 py-5"},wt={class:"flex items-center gap-3"},yt={class:"w-10 h-12 rounded-xl bg-slate-100 overflow-hidden shadow-sm flex-shrink-0"},_t=["src"],Pt={class:"overflow-hidden"},jt={class:"font-black text-slate-900 text-sm truncate max-w-[120px] sm:max-w-none"},Mt={class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest truncate mt-0.5"},Tt={class:"px-4 py-5 text-right whitespace-nowrap"},Ct={class:"flex items-center justify-end gap-1.5 transition-all"},At=["onClick"],St=["onClick"],Ut={key:0},Nt={key:0,class:"fixed inset-0 z-[100] overflow-y-auto",role:"dialog"},Bt={class:"flex min-h-full items-center justify-center p-4"},Vt={class:"relative bg-white rounded-[2.5rem] shadow-2xl w-full max-w-lg p-8 md:p-10"},Dt={class:"flex justify-between items-center mb-8"},Lt={class:"text-2xl font-black text-slate-900 tracking-tight"},Ft={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Kt={class:"relative group"},$t={class:"px-6 py-4 bg-slate-50 border-2 border-dashed border-slate-200 rounded-2xl flex items-center justify-center gap-3 transition-all group-hover:border-blue-500 group-hover:bg-blue-50"},It={class:"text-xs font-bold text-slate-500 group-hover:text-blue-600 line-clamp-1"},zt={class:"pt-4"},Et=["disabled"],Gt={key:0,class:"fixed inset-0 z-[110] overflow-y-auto",role:"dialog"},Ht={class:"flex min-h-full items-center justify-center p-4"},qt={class:"relative bg-white rounded-[2.5rem] shadow-2xl w-full max-w-md p-8 text-center"},Ot={class:"text-slate-500 font-bold text-sm mb-8 leading-relaxed"},Rt={class:"text-slate-900 font-black"},Jt={class:"flex gap-4"},Wt={key:0,class:"fixed bottom-10 right-10 z-[110] p-5 bg-white border border-emerald-100 rounded-3xl flex items-center gap-4 shadow-2xl"},Yt={class:"text-slate-500 text-xs font-bold"},V="Pengurus LPMK",Qt={__name:"Index",props:{members:Array,profile:String,tasks:Array},setup(j){const w=j,D=O(),c=k({show:!1,message:"",type:"success"}),M=(l,e="success")=>{c.value.message=l,c.value.type=e,c.value.show=!0,setTimeout(()=>c.value.show=!1,3e3)};q(()=>D.props.flash?.success,l=>{l&&M(l)});const r=A({profil_lpmk:w.profile||"",tugas_lpmk:w.tasks&&w.tasks.length>0?w.tasks:["Menyusun rencana pembangunan yang partisipatif (Musrenbang).","Menggerakkan swadaya gotong royong masyarakat.","Melaksanakan dan mengendalikan pembangunan.","Menampung dan menyalurkan aspirasi masyarakat."]}),L=()=>{r.tugas_lpmk.push("")},F=l=>{r.tugas_lpmk.length>1&&r.tugas_lpmk.splice(l,1)},K=()=>{r.put(route("admin.lpmk.profile.update"),{preserveScroll:!0,onSuccess:()=>M("Profil & Tugas LPMK berhasil diperbarui")})},y=k(!1),p=k(null),a=A({nama:"",jabatan:"",no_hp:"",foto:null,urutan:0}),$=()=>{p.value=null,a.reset(),y.value=!0},I=l=>{p.value=l,a.nama=l.nama,a.jabatan=l.jabatan,a.no_hp=l.no_hp||"",a.urutan=l.urutan||0,a.foto=null,y.value=!0},_=()=>{y.value=!1,a.reset()},z=()=>{p.value?B.post(route("admin.lpmk.update",p.value.id),{_method:"PUT",...a.data()},{forceFormData:!0,onSuccess:()=>_()}):a.post(route("admin.lpmk.store"),{onSuccess:()=>_()})},m=k(!1),g=k(null),E=l=>{g.value=l,m.value=!0},G=()=>{g.value&&B.delete(route("admin.lpmk.destroy",g.value.id),{onSuccess:()=>{M("Data pengurus berhasil dihapus"),m.value=!1,g.value=null}})},H=l=>l?`/storage/${l}`:"https://placehold.co/100x120?text=No+Photo";return(l,e)=>(i(),R(Y,null,{default:v(()=>[h(o(J),{title:V}),t("div",X,[t("div",Z,[t("div",null,[t("span",tt,[e[8]||(e[8]=t("i",{class:"fas fa-sitemap"},null,-1)),x(" Lembaga "+n(l.$page.props.settings?.sebutan_wilayah||"Kelurahan"),1)]),t("h1",{class:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2"},n(V)),t("p",et,"Kelola data jajaran pengurus LPMK "+n(l.$page.props.settings?.sebutan_wilayah||"Kelurahan")+".",1)])]),t("div",st,[t("div",at,[t("div",lt,[e[14]||(e[14]=t("div",{class:"flex items-center gap-4 mb-8"},[t("div",{class:"w-12 h-12 rounded-2xl bg-teal-50 text-teal-600 flex items-center justify-center text-xl shadow-sm"},[t("i",{class:"fas fa-edit"})]),t("div",null,[t("h2",{class:"text-xl font-black text-slate-900 leading-none mb-1"},"Profil Lembaga"),t("p",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none"}," Deskripsi & Fungsi")])],-1)),t("form",{onSubmit:S(K,["prevent"]),class:"space-y-10"},[t("div",ot,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 ml-3 text-left"},"Deskripsi Profil",-1)),b(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>o(r).profil_lpmk=s),rows:"10",class:"w-full px-6 py-5 bg-slate-50 border-2 border-transparent focus:border-teal-500 focus:bg-white rounded-[2rem] font-bold transition-all outline-none resize-none text-slate-700 leading-relaxed text-sm shadow-inner",placeholder:"Masukkan deskripsi profil LPMK..."},null,512),[[f,o(r).profil_lpmk]])]),t("div",nt,[t("div",{class:"flex items-center justify-between mb-4 ml-3"},[e[11]||(e[11]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Tugas Utama",-1)),t("button",{type:"button",onClick:L,class:"text-[10px] font-black text-emerald-600 uppercase tracking-widest hover:text-emerald-700 transition-all flex items-center gap-1.5"},[...e[10]||(e[10]=[t("i",{class:"fas fa-plus"},null,-1),x(" Tambah ",-1)])])]),t("div",rt,[h(W,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:v(()=>[(i(!0),d(U,null,N(o(r).tugas_lpmk,(s,u)=>(i(),d("div",{key:u,class:"flex gap-2 items-start group"},[t("div",it,[b(t("input",{"onUpdate:modelValue":C=>o(r).tugas_lpmk[u]=C,type:"text",class:"w-full pl-10 pr-4 py-3 bg-slate-50 border-2 border-transparent focus:border-emerald-500 focus:bg-white rounded-[1.25rem] font-bold text-xs transition-all outline-none text-slate-700 shadow-sm",placeholder:"Tuliskan tugas..."},null,8,dt),[[f,o(r).tugas_lpmk[u]]]),t("div",ut,n(u+1),1)]),t("button",{type:"button",onClick:C=>F(u),class:"w-10 h-10 flex-shrink-0 bg-white border border-slate-100 text-slate-300 hover:bg-rose-50 hover:text-rose-500 hover:border-rose-100 rounded-xl transition-all flex items-center justify-center"},[...e[12]||(e[12]=[t("i",{class:"fas fa-trash-alt text-[10px]"},null,-1)])],8,ct)]))),128))]),_:1})])])]),t("button",{type:"submit",disabled:o(r).processing,class:"w-full py-4 bg-teal-600 text-white rounded-[1.5rem] font-black text-[10px] uppercase tracking-[0.2em] hover:bg-teal-700 hover:shadow-2xl hover:shadow-teal-600/40 transition-all disabled:opacity-50 flex items-center justify-center gap-2"},[...e[13]||(e[13]=[t("i",{class:"fas fa-save"},null,-1),x(" SIMPAN PROFIL & TUGAS ",-1)])],8,pt)],32)])]),t("div",xt,[t("div",bt,[t("div",{class:"border-b border-slate-50 flex items-center justify-between gap-4 pb-6"},[e[16]||(e[16]=t("div",{class:"flex items-center gap-4"},[t("div",{class:"w-12 h-12 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center text-xl shadow-sm flex-shrink-0"},[t("i",{class:"fas fa-users-cog"})]),t("div",null,[t("h3",{class:"text-lg font-black text-slate-900 tracking-tight leading-none mb-1"}," Daftar Pengurus"),t("p",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none"}," Susunan & Struktur")])],-1)),t("button",{onClick:$,class:"px-5 py-2.5 bg-blue-600 text-white text-[10px] font-black rounded-xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 active:scale-95 flex items-center gap-2 uppercase tracking-widest"},[...e[15]||(e[15]=[t("i",{class:"fas fa-plus text-[10px]"},null,-1),x(" TAMBAH ",-1)])])]),t("div",ft,[t("table",mt,[e[20]||(e[20]=t("thead",null,[t("tr",{class:"bg-slate-50/50"},[t("th",{class:"px-4 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center w-12"}," #"),t("th",{class:"px-4 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Pengurus"),t("th",{class:"px-4 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"}," Aksi")])],-1)),t("tbody",gt,[(i(!0),d(U,null,N(j.members,s=>(i(),d("tr",{key:s.id,class:"hover:bg-slate-50/50 transition-colors group"},[t("td",vt,[t("span",ht,"#"+n(s.urutan),1)]),t("td",kt,[t("div",wt,[t("div",yt,[t("img",{src:H(s.foto),class:"w-full h-full object-cover"},null,8,_t)]),t("div",Pt,[t("p",jt,n(s.nama),1),t("p",Mt,n(s.jabatan),1)])])]),t("td",Tt,[t("div",Ct,[t("button",{onClick:u=>I(s),class:"w-8 h-8 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center"},[...e[17]||(e[17]=[t("i",{class:"fas fa-edit text-[10px]"},null,-1)])],8,At),t("button",{onClick:u=>E(s),class:"w-8 h-8 rounded-xl bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white transition-all flex items-center justify-center"},[...e[18]||(e[18]=[t("i",{class:"fas fa-trash text-[10px]"},null,-1)])],8,St)])])]))),128)),j.members.length===0?(i(),d("tr",Ut,[...e[19]||(e[19]=[t("td",{colspan:"3",class:"px-8 py-20 text-center text-slate-400"},[t("p",{class:"font-bold text-[10px] uppercase tracking-widest"},"Belum ada data ")],-1)])])):P("",!0)])])])])])]),h(T,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[y.value?(i(),d("div",Nt,[t("div",{class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:_}),t("div",Bt,[t("div",Vt,[t("div",Dt,[t("h2",Lt,n(p.value?"Edit Pengurus":"Tambah Pengurus"),1),t("button",{onClick:_,class:"w-10 h-10 rounded-full bg-slate-50 text-slate-400 hover:text-rose-500 hover:bg-rose-50 transition-all flex items-center justify-center"},[...e[21]||(e[21]=[t("i",{class:"fas fa-times"},null,-1)])])]),t("form",{onSubmit:S(z,["prevent"]),class:"space-y-6 text-left text-slate-700"},[t("div",Ft,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Nama Lengkap",-1)),b(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o(a).nama=s),type:"text",class:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white rounded-2xl font-bold transition-all outline-none",placeholder:"Nama lengkap...",required:""},null,512),[[f,o(a).nama]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Urutan Tampil",-1)),b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o(a).urutan=s),type:"number",class:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white rounded-2xl font-bold transition-all outline-none",placeholder:"0",required:""},null,512),[[f,o(a).urutan]])])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Jabatan",-1)),b(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o(a).jabatan=s),type:"text",class:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white rounded-2xl font-bold transition-all outline-none",placeholder:"Contoh: Ketua LPMK",required:""},null,512),[[f,o(a).jabatan]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"No. WhatsApp (Opsional)",-1)),b(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o(a).no_hp=s),type:"text",class:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white rounded-2xl font-bold transition-all outline-none",placeholder:"08xxxxxxxxxx"},null,512),[[f,o(a).no_hp]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Foto Pengurus (Opsional)",-1)),t("div",Kt,[t("input",{type:"file",onInput:e[5]||(e[5]=s=>o(a).foto=s.target.files[0]),class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"},null,32),t("div",$t,[e[26]||(e[26]=t("i",{class:"fas fa-camera text-slate-400 group-hover:text-blue-500"},null,-1)),t("span",It,n(o(a).foto?o(a).foto.name:"Pilih Foto JPG/PNG (Maks 1MB)"),1)])])]),t("div",zt,[t("button",{type:"submit",disabled:o(a).processing,class:"w-full py-5 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 shadow-xl shadow-blue-600/20 transition-all disabled:opacity-50"},n(p.value?"SIMPAN PERUBAHAN":"TAMBAH PENGURUS"),9,Et)])],32)])])])):P("",!0)]),_:1}),h(T,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[m.value?(i(),d("div",Gt,[t("div",{class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:e[6]||(e[6]=s=>m.value=!1)}),t("div",Ht,[t("div",qt,[e[30]||(e[30]=t("div",{class:"w-20 h-20 bg-rose-50 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 text-3xl"},[t("i",{class:"fas fa-exclamation-triangle"})],-1)),e[31]||(e[31]=t("h2",{class:"text-2xl font-black text-slate-900 mb-2"},"Hapus Pengurus?",-1)),t("p",Ot,[e[28]||(e[28]=x(" Apakah Anda yakin ingin menghapus ",-1)),t("span",Rt,n(g.value?.nama),1),e[29]||(e[29]=x("? Tindakan ini tidak dapat dibatalkan. ",-1))]),t("div",Jt,[t("button",{onClick:e[7]||(e[7]=s=>m.value=!1),class:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-200 transition-all"}," Batal "),t("button",{onClick:G,class:"flex-1 py-4 bg-rose-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-rose-700 shadow-xl shadow-rose-600/20 transition-all"}," Ya, Hapus ")])])])])):P("",!0)]),_:1}),h(T,{"enter-active-class":"transform transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[c.value.show?(i(),d("div",Wt,[e[33]||(e[33]=t("div",{class:"w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center text-white"},[t("i",{class:"fas fa-check text-xl"})],-1)),t("div",null,[e[32]||(e[32]=t("p",{class:"text-slate-900 font-black text-sm leading-none mb-1"},"Berhasil!",-1)),t("p",Yt,n(c.value.message),1)])])):P("",!0)]),_:1})])]),_:1}))}},se=Q(Qt,[["__scopeId","data-v-477b99aa"]]);export{se as default};
