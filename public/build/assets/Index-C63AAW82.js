import{n as m,q as _,s as B,x as N,c as j,o as l,w as d,a as c,b as t,d as u,h as P,e as h,g as T,v as C,i as o,F as x,k as g,t as n,m as M,l as f,T as V,j as v,y as E}from"./app-BmBz6phu.js";import{_ as H}from"./AdminLayout-BdqhWTbl.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const K={class:"max-w-[1200px] mx-auto px-4 sm:px-6"},$={class:"mb-5"},z={class:"flex flex-col md:flex-row items-center justify-between gap-4"},F={class:"flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto"},O={class:"relative w-full sm:w-80"},R={class:"relative w-full sm:w-64"},W=["value"],q={key:0,class:"fixed bottom-10 right-10 z-50 p-5 bg-white border border-emerald-100 rounded-3xl flex items-center gap-4 shadow-2xl"},J={class:"text-slate-500 text-xs font-bold"},G={class:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden"},Q={class:"overflow-x-auto"},X={class:"w-full text-left border-collapse"},Y={class:"divide-y divide-slate-50"},Z={class:"px-8 py-6"},tt={class:"flex items-center gap-4"},et={class:"w-16 h-16 rounded-2xl overflow-hidden shadow-sm bg-slate-100 shrink-0"},st=["src","alt"],at={class:"font-black text-slate-900 text-sm line-clamp-1 group-hover:text-blue-600 transition-colors uppercase"},lt={class:"text-[10px] font-bold text-slate-400 mt-1"},ot={class:"px-8 py-6"},rt={class:"px-3 py-1 bg-slate-100 text-slate-600 text-[10px] font-black rounded-lg uppercase tracking-tight"},it={class:"px-8 py-6"},nt={class:"flex items-center gap-4 text-slate-400"},dt={class:"flex items-center gap-1.5 tooltip",title:"Jumlah Pembaca"},ct={class:"text-[10px] font-black"},ut={class:"px-8 py-6"},xt={class:"flex items-center justify-end gap-2 text-right"},ft=["href"],pt=["onClick"],bt={key:0},mt={colspan:"4",class:"px-8 py-20 text-center"},ht={key:0,class:"px-8 py-6 border-t border-slate-50 flex justify-center bg-slate-50/30"},gt={class:"flex gap-1"},vt=["innerHTML"],wt={__name:"Index",props:{beritas:Object,categories:Array,filters:Object},setup(r){const w=r,p=m(w.filters?.search||""),b=m(w.filters?.kategori||"");_([p,b],([a,e])=>{B.get(route("admin.berita.index"),{search:a,kategori:e},{preserveState:!0,replace:!0,preserveScroll:!0})});const S=N(),i=m({show:!1,message:"",type:"success"}),y=(a,e="success")=>{i.value.message=a,i.value.type=e,i.value.show=!0,setTimeout(()=>i.value.show=!1,3e3)};_(()=>S.props.flash?.success,a=>{a&&y(a)},{immediate:!0});const A=a=>{confirm("Apakah Anda yakin ingin menghapus berita ini?")&&B.delete(route("admin.berita.destroy",a),{preserveScroll:!0,onSuccess:()=>y("Berita berhasil dihapus","success")})},D=a=>a?a.startsWith("http")?a:`/storage/${a}`:"https://placehold.co/100x100?text=No+Photo",I=a=>{a.target.src="https://placehold.co/100x100?text=No+Photo"},L=a=>{const e={year:"numeric",month:"short",day:"numeric"};return new Date(a).toLocaleDateString("id-ID",e)};return(a,e)=>(l(),j(H,null,{default:d(()=>[c(u(P),{title:"Kelola Berita"}),t("div",K,[t("div",$,[e[7]||(e[7]=t("div",{class:"mb-6"},[t("div",{class:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-widest mb-3"},[t("i",{class:"fas fa-newspaper"}),h(" Informasi Publik ")]),t("h1",{class:"text-4xl font-black text-slate-900 tracking-tight"},"Berita & Informasi"),t("p",{class:"text-slate-500 font-bold text-sm mt-2"},"Daftar seluruh kabar terbaru dan informasi resmi kelurahan.")],-1)),t("div",z,[t("div",F,[t("div",O,[e[2]||(e[2]=t("i",{class:"fas fa-search absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 text-sm"},null,-1)),T(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),type:"text",placeholder:"Cari berita...",class:"w-full pl-12 pr-5 py-4 bg-white border border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all font-bold text-sm text-slate-900 shadow-sm"},null,512),[[C,p.value]])]),t("div",R,[e[4]||(e[4]=t("i",{class:"fas fa-filter absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 text-sm pointer-events-none"},null,-1)),T(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>b.value=s),class:"w-full pl-12 pr-10 py-4 bg-white border border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all font-bold text-sm text-slate-900 shadow-sm appearance-none cursor-pointer"},[e[3]||(e[3]=t("option",{value:""},"Semua Kategori",-1)),(l(!0),o(x,null,g(r.categories,s=>(l(),o("option",{key:s,value:s},n(s),9,W))),128))],512),[[M,b.value]]),e[5]||(e[5]=t("i",{class:"fas fa-chevron-down absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 text-xs pointer-events-none"},null,-1))])]),c(u(f),{href:a.route("admin.berita.create"),class:"w-full md:w-auto px-8 py-4 rounded-2xl bg-blue-600 text-white font-black text-sm hover:bg-blue-700 transition-all flex items-center justify-center gap-2 shadow-xl shadow-blue-600/20 whitespace-nowrap"},{default:d(()=>[...e[6]||(e[6]=[t("i",{class:"fas fa-plus"},null,-1),h(" BUAT BERITA BARU ",-1)])]),_:1},8,["href"])])]),c(V,{"enter-active-class":"transform transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:d(()=>[i.value.show?(l(),o("div",q,[e[9]||(e[9]=t("div",{class:"w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-emerald-500/20"},[t("i",{class:"fas fa-check text-xl"})],-1)),t("div",null,[e[8]||(e[8]=t("p",{class:"text-slate-900 font-black text-sm"},"Berhasil!",-1)),t("p",J,n(i.value.message),1)])])):v("",!0)]),_:1}),t("div",G,[t("div",Q,[t("table",X,[e[17]||(e[17]=t("thead",null,[t("tr",{class:"border-b border-slate-50"},[t("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Berita"),t("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Kategori"),t("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Statistik"),t("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"}," Aksi")])],-1)),t("tbody",Y,[(l(!0),o(x,null,g(r.beritas.data,s=>(l(),o("tr",{key:s.id,class:"hover:bg-slate-50/50 transition-colors group"},[t("td",Z,[t("div",tt,[t("div",et,[t("img",{src:D(s.image),alt:s.judul,onError:I,class:"w-full h-full object-cover"},null,40,st)]),t("div",null,[t("h4",at,n(s.judul),1),t("p",lt," Diterbitkan: "+n(L(s.created_at)),1)])])]),t("td",ot,[t("span",rt,n(s.kategori),1)]),t("td",it,[t("div",nt,[t("div",dt,[e[10]||(e[10]=t("i",{class:"far fa-eye text-xs"},null,-1)),t("span",ct,n(s.view_count),1)])])]),t("td",ut,[t("div",xt,[t("a",{href:a.route("informasi.berita.show",s.slug),target:"_blank",class:"w-10 h-10 rounded-xl bg-slate-50 text-slate-400 hover:text-blue-600 hover:bg-blue-50 flex items-center justify-center transition-all",title:"Lihat di Web"},[...e[11]||(e[11]=[t("i",{class:"fas fa-external-link-alt text-xs"},null,-1)])],8,ft),c(u(f),{href:a.route("admin.berita.edit",s.id),class:"w-10 h-10 rounded-xl bg-slate-50 text-slate-400 hover:text-amber-600 hover:bg-amber-50 flex items-center justify-center transition-all",title:"Edit Berita"},{default:d(()=>[...e[12]||(e[12]=[t("i",{class:"fas fa-edit text-xs"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:k=>A(s.id),class:"w-10 h-10 rounded-xl bg-slate-50 text-slate-400 hover:text-rose-600 hover:bg-rose-50 flex items-center justify-center transition-all",title:"Hapus Berita"},[...e[13]||(e[13]=[t("i",{class:"fas fa-trash-alt text-xs"},null,-1)])],8,pt)])])]))),128)),r.beritas.data.length===0?(l(),o("tr",bt,[t("td",mt,[e[15]||(e[15]=t("div",{class:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200"},[t("i",{class:"fas fa-newspaper text-2xl"})],-1)),e[16]||(e[16]=t("p",{class:"text-slate-400 font-bold text-sm"},"Belum ada berita yang diterbitkan.",-1)),c(u(f),{href:a.route("admin.berita.create"),class:"mt-4 inline-flex text-blue-600 font-black text-xs uppercase tracking-widest hover:underline"},{default:d(()=>[...e[14]||(e[14]=[h(" Buat Berita Pertama Anda ",-1)])]),_:1},8,["href"])])])):v("",!0)])])]),r.beritas.links.length>3?(l(),o("div",ht,[t("div",gt,[(l(!0),o(x,null,g(r.beritas.links,(s,k)=>(l(),o(x,{key:k},[s.url===null?(l(),o("div",{key:0,class:"px-4 py-2 rounded-xl text-slate-300 text-[10px] font-black uppercase tracking-widest cursor-not-allowed",innerHTML:s.label},null,8,vt)):(l(),j(u(f),{key:1,class:E(["px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all",s.active?"bg-blue-600 text-white":"text-slate-500 hover:bg-blue-50"]),href:s.url,innerHTML:s.label},null,8,["class","href","innerHTML"]))],64))),128))])])):v("",!0)])])]),_:1}))}},jt=U(wt,[["__scopeId","data-v-c0a28096"]]);export{jt as default};
