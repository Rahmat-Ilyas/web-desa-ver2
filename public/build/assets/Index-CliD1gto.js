import{j as b,w as _,q as B,a as N,x as j,o as l,e as d,b as u,f as e,d as c,h as P,g as m,m as T,v as C,c as o,F as x,r as g,t as n,p as M,y as f,T as V,i as v,n as E}from"./app-CgtGsNhs.js";import{_ as H}from"./AdminLayout-CLyVBqIv.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const K={class:"max-w-[1200px] mx-auto px-4 sm:px-6"},$={class:"mb-5"},z={class:"flex flex-col md:flex-row items-center justify-between gap-4"},F={class:"flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto"},O={class:"relative w-full sm:w-80"},R={class:"relative w-full sm:w-64"},W=["value"],q={key:0,class:"fixed bottom-10 right-10 z-50 p-5 bg-white border border-emerald-100 rounded-3xl flex items-center gap-4 shadow-2xl"},J={class:"text-slate-500 text-xs font-bold"},G={class:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden"},Q={class:"overflow-x-auto"},X={class:"w-full text-left border-collapse"},Y={class:"divide-y divide-slate-50"},Z={class:"px-8 py-6"},ee={class:"flex items-center gap-4"},te={class:"w-16 h-16 rounded-2xl overflow-hidden shadow-sm bg-slate-100 shrink-0"},se=["src","alt"],ae={class:"font-black text-slate-900 text-sm line-clamp-1 group-hover:text-blue-600 transition-colors uppercase"},le={class:"text-[10px] font-bold text-slate-400 mt-1"},oe={class:"px-8 py-6"},re={class:"px-3 py-1 bg-slate-100 text-slate-600 text-[10px] font-black rounded-lg uppercase tracking-tight"},ie={class:"px-8 py-6"},ne={class:"flex items-center gap-4 text-slate-400"},de={class:"flex items-center gap-1.5 tooltip",title:"Jumlah Pembaca"},ue={class:"text-[10px] font-black"},ce={class:"px-8 py-6"},xe={class:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all translate-x-2 group-hover:translate-x-0"},fe=["href"],pe=["onClick"],he={key:0},be={colspan:"4",class:"px-8 py-20 text-center"},me={key:0,class:"px-8 py-6 border-t border-slate-50 flex justify-center bg-slate-50/30"},ge={class:"flex gap-1"},ve=["innerHTML"],we={__name:"Index",props:{beritas:Object,categories:Array,filters:Object},setup(r){const w=r,p=b(w.filters?.search||""),h=b(w.filters?.kategori||"");_([p,h],([a,t])=>{B.get(route("admin.berita.index"),{search:a,kategori:t},{preserveState:!0,replace:!0,preserveScroll:!0})});const S=N(),i=b({show:!1,message:"",type:"success"}),y=(a,t="success")=>{i.value.message=a,i.value.type=t,i.value.show=!0,setTimeout(()=>i.value.show=!1,3e3)};_(()=>S.props.flash?.success,a=>{a&&y(a)},{immediate:!0});const A=a=>{confirm("Apakah Anda yakin ingin menghapus berita ini?")&&B.delete(route("admin.berita.destroy",a),{preserveScroll:!0,onSuccess:()=>y("Berita berhasil dihapus","success")})},D=a=>a?a.startsWith("http")?a:`/storage/${a}`:"https://placehold.co/100x100?text=No+Photo",I=a=>{a.target.src="https://placehold.co/100x100?text=No+Photo"},L=a=>{const t={year:"numeric",month:"short",day:"numeric"};return new Date(a).toLocaleDateString("id-ID",t)};return(a,t)=>(l(),j(H,null,{default:d(()=>[u(c(P),{title:"Kelola Berita"}),e("div",K,[e("div",$,[t[7]||(t[7]=e("div",{class:"mb-6"},[e("div",{class:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-widest mb-3"},[e("i",{class:"fas fa-newspaper"}),m(" Informasi Publik ")]),e("h1",{class:"text-4xl font-black text-slate-900 tracking-tight"},"Berita & Informasi"),e("p",{class:"text-slate-500 font-bold text-sm mt-2"},"Daftar seluruh kabar terbaru dan informasi resmi kelurahan.")],-1)),e("div",z,[e("div",F,[e("div",O,[t[2]||(t[2]=e("i",{class:"fas fa-search absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 text-sm"},null,-1)),T(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",placeholder:"Cari berita...",class:"w-full pl-12 pr-5 py-4 bg-white border border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all font-bold text-sm text-slate-900 shadow-sm"},null,512),[[C,p.value]])]),e("div",R,[t[4]||(t[4]=e("i",{class:"fas fa-filter absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 text-sm pointer-events-none"},null,-1)),T(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>h.value=s),class:"w-full pl-12 pr-10 py-4 bg-white border border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all font-bold text-sm text-slate-900 shadow-sm appearance-none cursor-pointer"},[t[3]||(t[3]=e("option",{value:""},"Semua Kategori",-1)),(l(!0),o(x,null,g(r.categories,s=>(l(),o("option",{key:s,value:s},n(s),9,W))),128))],512),[[M,h.value]]),t[5]||(t[5]=e("i",{class:"fas fa-chevron-down absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 text-xs pointer-events-none"},null,-1))])]),u(c(f),{href:a.route("admin.berita.create"),class:"w-full md:w-auto px-8 py-4 rounded-2xl bg-blue-600 text-white font-black text-sm hover:bg-blue-700 transition-all flex items-center justify-center gap-2 shadow-xl shadow-blue-600/20 whitespace-nowrap"},{default:d(()=>[...t[6]||(t[6]=[e("i",{class:"fas fa-plus"},null,-1),m(" BUAT BERITA BARU ",-1)])]),_:1},8,["href"])])]),u(V,{"enter-active-class":"transform transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:d(()=>[i.value.show?(l(),o("div",q,[t[9]||(t[9]=e("div",{class:"w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-emerald-500/20"},[e("i",{class:"fas fa-check text-xl"})],-1)),e("div",null,[t[8]||(t[8]=e("p",{class:"text-slate-900 font-black text-sm"},"Berhasil!",-1)),e("p",J,n(i.value.message),1)])])):v("",!0)]),_:1}),e("div",G,[e("div",Q,[e("table",X,[t[17]||(t[17]=e("thead",null,[e("tr",{class:"border-b border-slate-50"},[e("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Berita"),e("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Kategori"),e("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Statistik"),e("th",{class:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"}," Aksi")])],-1)),e("tbody",Y,[(l(!0),o(x,null,g(r.beritas.data,s=>(l(),o("tr",{key:s.id,class:"hover:bg-slate-50/50 transition-colors group"},[e("td",Z,[e("div",ee,[e("div",te,[e("img",{src:D(s.image),alt:s.judul,onError:I,class:"w-full h-full object-cover"},null,40,se)]),e("div",null,[e("h4",ae,n(s.judul),1),e("p",le," Diterbitkan: "+n(L(s.created_at)),1)])])]),e("td",oe,[e("span",re,n(s.kategori),1)]),e("td",ie,[e("div",ne,[e("div",de,[t[10]||(t[10]=e("i",{class:"far fa-eye text-xs"},null,-1)),e("span",ue,n(s.view_count),1)])])]),e("td",ce,[e("div",xe,[e("a",{href:a.route("informasi.berita.show",s.slug),target:"_blank",class:"w-10 h-10 rounded-xl bg-slate-50 text-slate-400 hover:text-blue-600 hover:bg-blue-50 flex items-center justify-center transition-all shadow-sm hover:shadow-md",title:"Lihat di Web"},[...t[11]||(t[11]=[e("i",{class:"fas fa-external-link-alt text-xs"},null,-1)])],8,fe),u(c(f),{href:a.route("admin.berita.edit",s.id),class:"w-10 h-10 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shadow-sm hover:shadow-md hover:shadow-blue-200",title:"Edit Berita"},{default:d(()=>[...t[12]||(t[12]=[e("i",{class:"fas fa-edit text-xs"},null,-1)])]),_:1},8,["href"]),e("button",{onClick:k=>A(s.id),class:"w-10 h-10 rounded-xl bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white transition-all flex items-center justify-center shadow-sm hover:shadow-md hover:shadow-rose-200",title:"Hapus Berita"},[...t[13]||(t[13]=[e("i",{class:"fas fa-trash-alt text-xs"},null,-1)])],8,pe)])])]))),128)),r.beritas.data.length===0?(l(),o("tr",he,[e("td",be,[t[15]||(t[15]=e("div",{class:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200"},[e("i",{class:"fas fa-newspaper text-2xl"})],-1)),t[16]||(t[16]=e("p",{class:"text-slate-400 font-bold text-sm"},"Belum ada berita yang diterbitkan.",-1)),u(c(f),{href:a.route("admin.berita.create"),class:"mt-4 inline-flex text-blue-600 font-black text-xs uppercase tracking-widest hover:underline"},{default:d(()=>[...t[14]||(t[14]=[m(" Buat Berita Pertama Anda ",-1)])]),_:1},8,["href"])])])):v("",!0)])])]),r.beritas.links.length>3?(l(),o("div",me,[e("div",ge,[(l(!0),o(x,null,g(r.beritas.links,(s,k)=>(l(),o(x,{key:k},[s.url===null?(l(),o("div",{key:0,class:"px-4 py-2 rounded-xl text-slate-300 text-[10px] font-black uppercase tracking-widest cursor-not-allowed",innerHTML:s.label},null,8,ve)):(l(),j(c(f),{key:1,class:E(["px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all",s.active?"bg-blue-600 text-white":"text-slate-500 hover:bg-blue-50"]),href:s.url,innerHTML:s.label},null,8,["class","href","innerHTML"]))],64))),128))])])):v("",!0)])])]),_:1}))}},je=U(we,[["__scopeId","data-v-1f598b97"]]);export{je as default};
