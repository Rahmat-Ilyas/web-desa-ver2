import{w as G,a as W,u as B,x as q,o,e as h,b as y,f as e,d as n,h as J,g as u,t as r,j as b,c as i,F as K,r as S,i as x,T as P,l as I,m as _,v as M,p as Y,q as Q}from"./app-BNaSyrJD.js";import{_ as X}from"./AdminLayout-i8UKBO8W.js";/* empty css            */const Z={class:"max-w-[1200px] mx-auto px-4 sm:px-6"},ee={class:"mb-5"},te={class:"mb-6"},se={class:"text-4xl font-black text-slate-900 tracking-tight"},le={class:"text-slate-500 font-bold text-sm mt-2"},ae={class:"flex flex-col md:flex-row items-center justify-between gap-4"},oe={class:"flex gap-4 w-full md:w-auto"},ie={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},ne={class:"h-48 bg-slate-100 relative overflow-hidden"},re=["src"],de={key:1,class:"w-full h-full flex items-center justify-center text-slate-400"},ue={class:"absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest shadow-sm"},ce={class:"p-8 flex flex-col flex-grow"},pe={class:"text-xl font-black text-slate-900 mb-2 leading-tight"},be={key:0,class:"flex items-center gap-2 text-slate-400 text-xs font-bold mb-4"},xe={class:"text-slate-500 text-sm font-medium leading-relaxed mb-6 flex-grow line-clamp-3"},fe={class:"pt-6 border-t border-slate-50 flex items-center justify-between"},ge={class:"text-[10px] font-black text-slate-300 uppercase tracking-widest"},me={class:"flex gap-2"},ve=["onClick"],ke=["onClick"],we={key:0,class:"fixed inset-0 z-[100] overflow-y-auto"},he={class:"flex min-h-full items-center justify-center p-4"},ye={class:"relative bg-white rounded-[3rem] shadow-2xl w-full max-w-2xl p-8 md:p-12 overflow-hidden"},_e={class:"flex justify-between items-center mb-10"},je={class:"text-2xl font-black text-slate-900"},Ce={class:"relative group cursor-pointer"},Pe={class:"h-48 w-full bg-slate-50 border-2 border-dashed border-slate-200 rounded-2xl flex flex-col items-center justify-center hover:border-blue-400 hover:bg-blue-50 transition-all overflow-hidden relative"},Me=["src"],$e={key:1,class:"text-center p-6"},De={key:2,class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-white font-bold text-xs uppercase tracking-widest"},Ke={key:0,class:"text-rose-500 text-xs font-bold mt-2 ml-4"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ue=["value"],Ae={class:"pt-6 flex gap-4"},Be=["disabled"],Ie={key:0,class:"fixed bottom-10 right-10 z-[120] p-5 bg-white border border-emerald-100 rounded-3xl flex items-center gap-4 shadow-2xl"},Ne={class:"text-slate-500 text-xs font-bold"},Te={key:0,class:"fixed inset-0 z-[110] flex items-center justify-center p-4"},Ve={class:"bg-white rounded-[2.5rem] w-full max-w-md p-8 shadow-2xl relative z-10 text-center"},Le={class:"text-slate-500 font-medium text-sm mb-8 leading-relaxed"},Ee={class:"text-slate-800"},Fe={key:0,class:"fixed inset-0 z-[120] overflow-y-auto"},Oe={class:"flex min-h-full items-center justify-center p-4"},ze={class:"relative bg-white rounded-[3rem] shadow-2xl w-full max-w-lg p-10 overflow-hidden"},Re={class:"flex justify-between items-center mb-8"},He={class:"max-h-[400px] overflow-y-auto pr-2 custom-scrollbar space-y-3"},Ge=["onUpdate:modelValue"],We=["onClick"],qe={class:"pt-6 border-t border-slate-100 flex gap-4"},Je=["disabled"],Ze={__name:"Index",props:{potensis:Array,categories:Array},setup(U){const v=U,f=b({show:!1,message:"",type:"success"}),N=W(),j=(l,t="success")=>{f.value.message=l,f.value.type=t,f.value.show=!0,setTimeout(()=>f.value.show=!1,3e3)};G(()=>N.props.flash?.success,l=>{l&&j(l)});const $=b(!1),k=b(null),C=b(!1),g=b(null),c=b(null),m=b(!1),p=B({categories:v.categories&&v.categories.length>0?[...v.categories]:["Wisata Alam","UMKM & Produk","Pertanian","Seni Budaya","Kuliner"]}),T=()=>{p.categories.push("")},V=l=>{p.categories.splice(l,1)},L=()=>{p.post(route("admin.potensi.categories.update"),{onSuccess:()=>{m.value=!1,j("Kategori berhasil diperbarui")}})},a=B({judul:"",kategori:v.categories[0]||"",deskripsi:"",lokasi:"",image:null}),E=()=>{g.value=null,c.value=null,a.reset(),C.value=!0},F=l=>{g.value=l,a.judul=l.judul,a.kategori=l.kategori,a.deskripsi=l.deskripsi,a.lokasi=l.lokasi,c.value=l.image?`/storage/${l.image}`:null,a.image=null,C.value=!0},w=()=>{C.value=!1,a.reset(),c.value=null},O=l=>{const t=l.target.files[0];t&&(a.image=t,c.value=URL.createObjectURL(t))},z=()=>{g.value?a.transform(l=>({...l,_method:"put"})).post(route("admin.potensi.update",g.value.id),{onSuccess:()=>{w(),j("Potensi desa berhasil diperbarui")}}):a.post(route("admin.potensi.store"),{onSuccess:()=>{w(),j("Potensi desa berhasil ditambahkan")}})},R=l=>{k.value=l,$.value=!0},D=()=>{$.value=!1,k.value=null},H=()=>{k.value&&Q.delete(route("admin.potensi.destroy",k.value.id),{onSuccess:()=>{D()}})};return(l,t)=>(o(),q(X,null,{default:h(()=>[y(n(J),{title:`Potensi ${l.$page.props.settings?.sebutan_wilayah||"Desa"}`},null,8,["title"]),e("div",Z,[e("div",ee,[e("div",te,[t[9]||(t[9]=e("div",{class:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-black uppercase tracking-widest mb-3"},[e("i",{class:"fas fa-star"}),u(" Informasi Publik ")],-1)),e("h1",se,"Potensi "+r(l.$page.props.settings?.sebutan_wilayah||"Desa"),1),e("p",le,"Kelola informasi mengenai potensi unggulan "+r(l.$page.props.settings?.sebutan_wilayah?.toLowerCase()||"desa")+". ",1)]),e("div",ae,[t[12]||(t[12]=e("div",{class:"w-full md:w-auto"},null,-1)),e("div",oe,[e("button",{onClick:t[0]||(t[0]=s=>m.value=!0),class:"px-8 py-4 rounded-2xl bg-amber-500 text-white font-black text-sm hover:bg-amber-600 transition-all flex items-center justify-center gap-2 shadow-xl shadow-amber-500/20 whitespace-nowrap uppercase tracking-widest"},[...t[10]||(t[10]=[e("i",{class:"fas fa-tags"},null,-1),u(" Atur Kategori ",-1)])]),e("button",{onClick:E,class:"flex-grow px-8 py-4 rounded-2xl bg-blue-600 text-white font-black text-sm hover:bg-blue-700 transition-all flex items-center justify-center gap-2 shadow-xl shadow-blue-600/20 whitespace-nowrap uppercase tracking-widest"},[...t[11]||(t[11]=[e("i",{class:"fas fa-plus"},null,-1),u(" Tambah Potensi ",-1)])])])])]),e("div",ie,[(o(!0),i(K,null,S(U.potensis,s=>(o(),i("div",{key:s.id,class:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden hover:shadow-xl transition-all group flex flex-col"},[e("div",ne,[s.image?(o(),i("img",{key:0,src:s.image.startsWith("http")?s.image:`/storage/${s.image}`,onError:t[1]||(t[1]=d=>d.target.src="https://placehold.co/800x600/e2e8f0/94a3b8?text=No+Image"),class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"},null,40,re)):(o(),i("div",de,[...t[13]||(t[13]=[e("i",{class:"fas fa-image text-3xl"},null,-1)])])),e("div",ue,r(s.kategori),1)]),e("div",ce,[e("h3",pe,r(s.judul),1),s.lokasi?(o(),i("div",be,[t[14]||(t[14]=e("i",{class:"fas fa-map-marker-alt text-rose-500"},null,-1)),u(" "+r(s.lokasi),1)])):x("",!0),e("p",xe,r(s.deskripsi),1),e("div",fe,[e("span",ge,r(new Date(s.created_at).toLocaleDateString()),1),e("div",me,[e("button",{onClick:d=>F(s),class:"w-8 h-8 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all"},[...t[15]||(t[15]=[e("i",{class:"fas fa-edit text-xs"},null,-1)])],8,ve),e("button",{onClick:d=>R(s),class:"w-8 h-8 rounded-lg bg-rose-50 text-rose-600 flex items-center justify-center hover:bg-rose-600 hover:text-white transition-all"},[...t[16]||(t[16]=[e("i",{class:"fas fa-trash text-xs"},null,-1)])],8,ke)])])])]))),128))])]),y(P,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[C.value?(o(),i("div",we,[e("div",{class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:w}),e("div",he,[e("div",ye,[e("div",_e,[e("h2",je,r(g.value?"Edit Potensi":"Tambah Potensi Baru"),1),e("button",{onClick:w,class:"p-3 hover:bg-slate-100 rounded-2xl transition-colors text-slate-400"},[...t[17]||(t[17]=[e("i",{class:"fas fa-times text-xl"},null,-1)])])]),e("form",{onSubmit:I(z,["prevent"]),class:"space-y-6"},[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 ml-4"},"Foto Utama",-1)),e("div",Ce,[e("div",Pe,[c.value?(o(),i("img",{key:0,src:c.value,class:"absolute inset-0 w-full h-full object-cover"},null,8,Me)):x("",!0),c.value?(o(),i("div",De," Ganti Foto ")):(o(),i("div",$e,[...t[18]||(t[18]=[e("i",{class:"fas fa-cloud-upload-alt text-3xl text-slate-300 mb-3 group-hover:text-blue-500 transition-colors"},null,-1),e("p",{class:"text-xs font-bold text-slate-400"},"Klik untuk upload foto",-1)])]))]),e("input",{type:"file",onChange:O,accept:"image/*",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,32)]),n(a).errors.image?(o(),i("p",Ke,r(n(a).errors.image),1)):x("",!0)]),e("div",Se,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-4"},"Judul Potensi",-1)),_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n(a).judul=s),type:"text",class:"w-full bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white px-6 py-4 rounded-2xl font-bold text-slate-700 transition-all outline-none",placeholder:"Nama Potensi..."},null,512),[[M,n(a).judul]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-4"},"Kategori",-1)),_(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>n(a).kategori=s),class:"w-full bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white px-6 py-4 rounded-2xl font-bold text-slate-700 transition-all outline-none appearance-none cursor-pointer"},[(o(!0),i(K,null,S(v.categories,s=>(o(),i("option",{key:s,value:s},r(s),9,Ue))),128))],512),[[Y,n(a).kategori]])])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-4"},"Lokasi (Opsional)",-1)),_(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n(a).lokasi=s),type:"text",class:"w-full bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white px-6 py-4 rounded-2xl font-bold text-slate-700 transition-all outline-none",placeholder:"Dusun / Lingkungan..."},null,512),[[M,n(a).lokasi]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-4"},"Deskripsi Lengkap",-1)),_(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>n(a).deskripsi=s),rows:"4",class:"w-full bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white px-6 py-4 rounded-2xl font-bold text-slate-700 transition-all outline-none",placeholder:"Ceritakan keunggulan potensi ini..."},null,512),[[M,n(a).deskripsi]])]),e("div",Ae,[e("button",{type:"button",onClick:w,class:"flex-grow py-4 bg-slate-100 text-slate-600 font-black text-xs uppercase tracking-widest rounded-2xl hover:bg-slate-200 transition-all"},"Batal"),e("button",{type:"submit",disabled:n(a).processing,class:"flex-[2] py-4 bg-blue-600 text-white font-black text-xs uppercase tracking-widest rounded-2xl hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 disabled:opacity-50"},r(g.value?"SIMPAN PERUBAHAN":"PUBLIKASIKAN"),9,Be)])],32)])])])):x("",!0)]),_:1}),y(P,{"enter-active-class":"transform transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[f.value.show?(o(),i("div",Ie,[t[25]||(t[25]=e("div",{class:"w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-emerald-500/20"},[e("i",{class:"fas fa-check text-xl"})],-1)),e("div",null,[t[24]||(t[24]=e("p",{class:"text-slate-900 font-black text-sm"},"Berhasil!",-1)),e("p",Ne,r(f.value.message),1)])])):x("",!0)]),_:1}),y(P,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:h(()=>[$.value?(o(),i("div",Te,[e("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:D}),e("div",Ve,[t[30]||(t[30]=e("div",{class:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-6 text-rose-500"},[e("i",{class:"fas fa-trash-alt text-3xl"})],-1)),t[31]||(t[31]=e("h3",{class:"text-xl font-black text-slate-900 mb-2"},"Hapus Potensi?",-1)),e("p",Le,[t[26]||(t[26]=u(" Anda yakin ingin menghapus ",-1)),e("strong",Ee,r(k.value?.judul),1),t[27]||(t[27]=u("? ",-1)),t[28]||(t[28]=e("br",null,null,-1)),t[29]||(t[29]=u("Data yang dihapus tidak dapat dikembalikan. ",-1))]),e("div",{class:"flex gap-4"},[e("button",{type:"button",onClick:D,class:"flex-1 bg-slate-100 text-slate-600 font-black text-xs uppercase tracking-widest py-4 rounded-2xl hover:bg-slate-200 transition-colors"}," Batalkan "),e("button",{type:"button",onClick:H,class:"flex-1 bg-rose-600 text-white font-black text-xs uppercase tracking-widest py-4 rounded-2xl hover:bg-rose-500 transition-all shadow-xl shadow-rose-500/30 active:scale-95"}," Ya, Hapus! ")])])])):x("",!0)]),_:1}),y(P,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:h(()=>[m.value?(o(),i("div",Fe,[e("div",{class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:t[6]||(t[6]=s=>m.value=!1)}),e("div",Oe,[e("div",ze,[e("div",Re,[t[33]||(t[33]=e("h2",{class:"text-2xl font-black text-slate-900 uppercase tracking-tighter"},"Kelola Kategori",-1)),e("button",{onClick:t[7]||(t[7]=s=>m.value=!1),class:"p-2 hover:bg-slate-100 rounded-xl transition-colors text-slate-400"},[...t[32]||(t[32]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("form",{onSubmit:I(L,["prevent"]),class:"space-y-4"},[e("div",He,[(o(!0),i(K,null,S(n(p).categories,(s,d)=>(o(),i("div",{key:d,class:"flex gap-2"},[_(e("input",{"onUpdate:modelValue":A=>n(p).categories[d]=A,type:"text",class:"flex-grow bg-slate-50 border-2 border-transparent focus:border-amber-500 focus:bg-white px-5 py-3 rounded-xl font-bold text-slate-700 outline-none transition-all",placeholder:"Nama kategori..."},null,8,Ge),[[M,n(p).categories[d]]]),e("button",{type:"button",onClick:A=>V(d),class:"w-12 h-12 rounded-xl bg-rose-50 text-rose-500 flex items-center justify-center hover:bg-rose-500 hover:text-white transition-all"},[...t[34]||(t[34]=[e("i",{class:"fas fa-trash-alt text-xs"},null,-1)])],8,We)]))),128))]),e("button",{type:"button",onClick:T,class:"w-full py-4 bg-slate-50 text-slate-500 font-black text-[10px] uppercase tracking-widest rounded-xl hover:bg-slate-100 border-2 border-dashed border-slate-200 flex items-center justify-center gap-2 transition-all"},[...t[35]||(t[35]=[e("i",{class:"fas fa-plus"},null,-1),u(" Tambah Kategori ",-1)])]),e("div",qe,[e("button",{type:"button",onClick:t[8]||(t[8]=s=>m.value=!1),class:"flex-1 py-4 bg-slate-100 text-slate-600 font-black text-xs uppercase tracking-widest rounded-2xl hover:bg-slate-200 transition-all"},"Batal"),e("button",{type:"submit",disabled:n(p).processing,class:"flex-[2] py-4 bg-amber-500 text-white font-black text-xs uppercase tracking-widest rounded-2xl hover:bg-amber-600 transition-all shadow-xl shadow-amber-500/20 disabled:opacity-50"}," SIMPAN KATEGORI ",8,Je)])],32)])])])):x("",!0)]),_:1})]),_:1}))}};export{Ze as default};
