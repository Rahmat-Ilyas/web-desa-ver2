import{z as L,j as b,I as S,c as i,o,i as u,f as t,g,F as y,r as w,x as _,e as c,n as d,t as f,d as m,a as P,y as p,b as h,T as j,J as z}from"./app-oaFJbbJS.js";const B={class:"min-h-screen bg-gray-50 flex"},M={class:"p-6 flex items-center gap-3"},T={key:0,class:"font-black tracking-tight text-xl"},$={class:"mt-6 px-3 space-y-1 overflow-y-auto max-h-[calc(100vh-180px)] custom-scrollbar"},A={key:0,class:"font-bold text-sm flex-grow"},D={key:1,class:"ml-auto w-5 h-5 bg-rose-500 text-white text-[10px] font-black rounded-full flex items-center justify-center shadow-lg shadow-rose-500/40 animate-pulse"},E={key:1},R=["onClick"],U={class:"flex items-center gap-4"},V={key:0},N={key:0,class:"mt-1 ml-10 space-y-1 border-l border-slate-700 pl-4 py-2 origin-top"},F={class:"flex-grow flex flex-col min-w-0 h-screen overflow-hidden"},I={class:"bg-white h-20 min-h-[5rem] shadow-sm flex items-center justify-between px-4 md:px-8 relative z-20 shrink-0"},O={id:"user-menu-container",class:"relative"},G={class:"hidden md:flex flex-col items-end text-right"},J={class:"font-black text-gray-900 text-sm group-hover:text-blue-600 transition-colors"},q={key:0,class:"absolute right-0 mt-4 w-64 origin-top-right bg-white rounded-3xl shadow-2xl border border-slate-100 p-2 overflow-hidden focus:outline-none"},H={class:"px-5 py-4 border-b border-slate-50 mb-1"},Q={class:"text-[10px] font-black text-slate-400 uppercase tracking-widest"},X={class:"text-xs font-bold text-slate-500 truncate mt-1"},Y={class:"flex-grow p-4 md:p-8 overflow-y-auto bg-gray-50/50"},te={__name:"AdminLayout",setup(Z){const r=b(window.innerWidth>768),x=b(!1),l=b(null),C=()=>{r.value=!r.value},K=()=>{x.value=!x.value},v=n=>{x.value&&!n.target.closest("#user-menu-container")&&(x.value=!1)},W=n=>{l.value=l.value===n?null:n};L(()=>{window.addEventListener("click",v),k.forEach(s=>{s.sub&&s.sub.some(a=>a.route!=="#"&&(route().current(a.route,a.params)||a.route.endsWith(".index")&&route().current(a.route.replace(".index",".*"),a.params)))&&(l.value=s.name)});const n=()=>{window.innerWidth<=768?r.value=!1:r.value=!0};window.addEventListener("resize",n)}),S(()=>{window.removeEventListener("click",v)});const k=[{name:"Dashboard",icon:"fa-th-large",route:"admin.dashboard"},{name:"Konten Profil",icon:"fa-user-tie",sub:[{name:"Sambutan Lurah",route:"admin.sambutan.index"},{name:"Visi & Misi",route:"admin.visimisi.index"},{name:"Sejarah Kelurahan",route:"admin.sejarah.index"},{name:"Kondisi Kelurahan",route:"admin.kondisi.index"},{name:"Struktur Organisasi",route:"admin.struktur.index"}]},{name:"Informasi Publik",icon:"fa-newspaper",sub:[{name:"Berita & Informasi",route:"admin.berita.index"},{name:"APBDes / Anggaran",route:"admin.anggaran.index"},{name:"Pusat Download",route:"admin.download.index"},{name:"Program Kerja",route:"admin.program.index"},{name:"Potensi Wilayah",route:"admin.potensi.index"}]},{name:"Lembaga",icon:"fa-users-cog",sub:[{name:"Rukun Warga (RW)",route:"admin.rukun-warga.index"},{name:"Rukun Tetangga (RT)",route:"admin.rukun-tetangga.index"},{name:"LPMK",route:"admin.lpmk.index"},{name:"PKK",route:"admin.pkk.index"},{name:"Karang Taruna",route:"admin.karang-taruna.index"},{name:"Majelis Taklim",route:"admin.majelis-taklim.index"}]},{name:"Statistik Penduduk",icon:"fa-users",route:"admin.kependudukan.index"},{name:"Galeri Foto",icon:"fa-images",route:"admin.galeri.index"},{name:"Layanan & Surat",icon:"fa-concierge-bell",route:"admin.layanan.index"},{name:"Pengaduan Warga",icon:"fa-exclamation-circle",route:"admin.pengaduan.index"},{name:"Kontak & Sosmed",icon:"fa-address-book",route:"admin.kontak"},{name:"Konfigurasi Web",icon:"fa-cogs",route:"admin.konfigurasi"}];return(n,s)=>(o(),i("div",B,[r.value?(o(),i("div",{key:0,onClick:s[0]||(s[0]=e=>r.value=!1),class:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 md:hidden transition-opacity"})):u("",!0),t("aside",{class:d(["bg-slate-900 text-white transition-all duration-300 flex-shrink-0 z-50 fixed md:relative h-screen",r.value?"w-72 translate-x-0":"w-20 translate-x-[-100%] md:translate-x-0"])},[t("div",M,[s[3]||(s[3]=t("div",{class:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-600/30"},[t("i",{class:"fas fa-shield-alt text-xl"})],-1)),r.value?(o(),i("span",T,[...s[2]||(s[2]=[g("Admin",-1),t("span",{class:"text-blue-500"},"Panel",-1)])])):u("",!0)]),t("nav",$,[(o(),i(y,null,w(k,e=>t("div",{key:e.name},[e.sub?(o(),i("div",E,[t("button",{onClick:a=>W(e.name),class:d(["w-full flex items-center justify-between gap-4 px-4 py-3 rounded-xl transition-all group font-bold text-sm hover:bg-slate-800/50",l.value===e.name||e.sub&&e.sub.some(a=>a.route!=="#"&&n.route().current(a.route,a.params))?"text-blue-400 bg-slate-800/30":"text-slate-400 hover:text-blue-400"])},[t("div",U,[t("i",{class:d(["fas w-6 text-center text-lg",e.icon,l.value===e.name||e.sub&&e.sub.some(a=>a.route!=="#"&&n.route().current(a.route,a.params))?"text-blue-400":"text-slate-500 group-hover:text-blue-400"])},null,2),r.value?(o(),i("span",V,f(e.name),1)):u("",!0)]),r.value?(o(),i("i",{key:0,class:d(["fas fa-chevron-right text-[10px] transition-transform",l.value===e.name?"rotate-90":""])},null,2)):u("",!0)],10,R),h(j,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-y-0 opacity-0","enter-to-class":"transform scale-y-100 opacity-100","leave-active-class":"transition duration-100 ease-in","leave-from-class":"transform scale-y-100 opacity-100","leave-to-class":"transform scale-y-0 opacity-0"},{default:c(()=>[r.value&&l.value===e.name?(o(),i("div",N,[(o(!0),i(y,null,w(e.sub,a=>(o(),_(m(p),{key:a.name,href:a.route==="#"?"#":n.route(a.route,a.params||{}),class:d(["block py-2 text-xs font-bold transition-colors",a.route!=="#"&&n.route().current(a.route,a.params)?"text-blue-400":"text-slate-500 hover:text-blue-400"])},{default:c(()=>[g(f(a.name),1)]),_:2},1032,["href","class"]))),128))])):u("",!0)]),_:2},1024)])):(o(),_(m(p),{key:0,href:e.route?e.route==="#"?"#":n.route(e.route):"#",onClick:s[1]||(s[1]=a=>l.value=null),class:d(["flex items-center gap-4 px-4 py-3 rounded-xl transition-all group hover:bg-slate-800/50",e.route&&(n.route().current(e.route)||e.route.endsWith(".index")&&n.route().current(e.route.replace(".index",".*")))?"text-blue-400":"text-slate-400 hover:text-blue-400"])},{default:c(()=>[t("i",{class:d(["fas w-6 text-center text-lg",e.icon,e.route&&(n.route().current(e.route)||e.route.endsWith(".index")&&n.route().current(e.route.replace(".index",".*")))?"text-blue-400":"text-slate-500 group-hover:text-blue-400"])},null,2),r.value?(o(),i("span",A,f(e.name),1)):u("",!0),e.name==="Pengaduan Warga"&&m(P)().props.pendingPengaduanCount>0?(o(),i("div",D,f(m(P)().props.pendingPengaduanCount),1)):u("",!0)]),_:2},1032,["href","class"]))])),64))])],2),t("main",F,[t("header",I,[t("button",{onClick:C,class:"w-10 h-10 bg-gray-50 rounded-lg flex items-center justify-center hover:bg-gray-100 text-gray-400 transition-colors"},[t("i",{class:d(["fas",r.value?"fa-indent":"fa-outdent"])},null,2)]),t("div",O,[t("button",{onClick:K,class:"flex items-center gap-4 group"},[t("div",G,[t("span",J,f(n.$page.props.auth.user.name),1),s[4]||(s[4]=t("span",{class:"text-[10px] font-bold text-blue-500 uppercase tracking-widest mt-0.5"},"Ujung Sabbang",-1))]),s[5]||(s[5]=t("div",{class:"w-10 h-10 rounded-xl bg-gradient-to-tr from-blue-600 to-indigo-600 border-2 border-white shadow-lg overflow-hidden flex items-center justify-center transition-transform hover:scale-105 active:scale-95 text-white shrink-0"},[t("i",{class:"fas fa-user-shield text-lg"})],-1))]),h(j,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:c(()=>[x.value?(o(),i("div",q,[t("div",H,[t("p",Q,f(n.$page.props.auth.user.name),1),t("p",X,f(n.$page.props.auth.user.email),1)]),h(m(p),{href:n.route("admin.profile.index"),class:"flex items-center gap-3 px-4 py-3 text-sm font-bold text-slate-600 hover:bg-blue-50 hover:text-blue-600 rounded-2xl transition-all"},{default:c(()=>[...s[6]||(s[6]=[t("i",{class:"fas fa-user-circle text-lg opacity-50"},null,-1),g(" Lihat Profil ",-1)])]),_:1},8,["href"]),h(m(p),{href:n.route("admin.konfigurasi"),class:"flex items-center gap-3 px-4 py-3 text-sm font-bold text-slate-600 hover:bg-blue-50 hover:text-blue-600 rounded-2xl transition-all"},{default:c(()=>[...s[7]||(s[7]=[t("i",{class:"fas fa-cogs text-lg opacity-50"},null,-1),g(" Konfigurasi Web ",-1)])]),_:1},8,["href"]),s[9]||(s[9]=t("hr",{class:"my-1 border-slate-50"},null,-1)),h(m(p),{href:n.route("logout"),method:"post",as:"button",class:"w-full flex items-center gap-3 px-4 py-3 text-sm font-bold text-rose-500 hover:bg-rose-50 rounded-2xl transition-all text-left"},{default:c(()=>[...s[8]||(s[8]=[t("i",{class:"fas fa-sign-out-alt text-lg opacity-50"},null,-1),g(" Logout ",-1)])]),_:1},8,["href"])])):u("",!0)]),_:1})])]),t("div",Y,[z(n.$slots,"default")])])]))}};export{te as _};
