import{c as r,o as i,b as x,d as h,h as w,e as m,f as e,t as o,T as b,i as f,j as y,F as p,r as v,n as k,g as _}from"./app-DpFuQUsd.js";import{_ as D}from"./MainLayout-BZD2PBTc.js";/* empty css            */const C={class:"bg-gray-800 py-16 relative overflow-hidden"},j={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center"},$={class:"text-gray-300 text-lg max-w-2xl mx-auto"},N={key:0,class:"fixed bottom-10 right-4 md:right-10 z-[60] p-6 bg-white border border-rose-100 rounded-2xl flex items-center gap-4 shadow-[0_20px_60px_-15px_rgba(0,0,0,0.3)] min-w-[300px] max-w-md"},z={class:"text-slate-500 text-xs font-bold mt-0.5"},B={class:"py-16 bg-gray-50 min-h-screen"},A={class:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"},F={class:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100"},P={class:"p-8 border-b border-gray-100 flex justify-between items-center bg-white sticky top-0 z-10"},T={class:"text-sm text-gray-500"},V={class:"divide-y divide-gray-100"},E={class:"w-12 h-12 rounded-xl bg-gray-100 text-gray-400 flex items-center justify-center text-xl mr-6 group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors"},G={class:"flex-grow"},H={class:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors"},I={class:"flex items-center gap-4 mt-1"},L={class:"text-xs font-bold text-gray-400 uppercase tracking-widest"},M={class:"text-xs text-gray-500"},U={class:"text-xs text-slate-400 mt-1 line-clamp-1"},W=["onClick"],J={key:0,class:"p-12 text-center text-gray-400"},K={class:"mt-12 p-8 bg-blue-900 rounded-3xl text-white flex flex-col md:flex-row items-center justify-between gap-6 shadow-2xl"},S=["href"],R={__name:"Index",props:{downloads:Array},setup(d){const l=y({show:!1,message:"",type:"error"}),u=(s,t="error")=>{l.value.message=s,l.value.type=t,l.value.show=!0,setTimeout(()=>l.value.show=!1,3e3)},c=s=>{if(s.file_path.startsWith("dummy/")){u("Mohon maaf, file dokumen ini belum tersedia untuk diunduh saat ini.","error");return}const t=`/storage/${s.file_path}`;fetch(t,{method:"HEAD"}).then(a=>{if(a.ok){const n=document.createElement("a");n.href=t,n.download=s.judul,document.body.appendChild(n),n.click(),document.body.removeChild(n)}else u("Maaf, file dokumen tidak ditemukan di server (404).","error")}).catch(()=>{u("Gagal menghubungi server. Periksa koneksi internet Anda.","error")})},g=s=>{switch(s?.toLowerCase()){case"pdf":return"fas fa-file-pdf";case"docx":case"doc":return"fas fa-file-word";case"xlsx":case"xls":return"fas fa-file-excel";default:return"fas fa-file"}};return(s,t)=>(i(),r(p,null,[x(h(w),{title:"Pusat Download Dokumen"}),x(D,null,{default:m(()=>[e("div",C,[t[3]||(t[3]=e("div",{class:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"},null,-1)),e("div",j,[t[1]||(t[1]=e("div",{class:"w-16 h-16 mx-auto bg-white/10 backdrop-blur rounded-full flex items-center justify-center mb-6"},[e("i",{class:"fas fa-download text-3xl text-white"})],-1)),t[2]||(t[2]=e("h1",{class:"text-3xl md:text-5xl font-extrabold text-white tracking-tight mb-4"},"Pusat Download",-1)),e("p",$,"Unduh berbagai formulir layanan, peraturan, dan laporan "+o(s.$page.props.settings?.sebutan_wilayah||"Kelurahan")+" "+o(s.$page.props.settings?.nama_wilayah||"[Nama Wilayah]")+".",1)])]),x(b,{"enter-active-class":"transform transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:m(()=>[l.value.show?(i(),r("div",N,[t[6]||(t[6]=e("div",{class:"w-12 h-12 bg-rose-500 rounded-full flex items-center justify-center text-white shadow-lg shadow-rose-500/30 flex-shrink-0"},[e("i",{class:"fas fa-exclamation-triangle text-xl"})],-1)),e("div",null,[t[4]||(t[4]=e("p",{class:"text-slate-900 font-black text-sm uppercase tracking-wide"},"Gagal Download",-1)),e("p",z,o(l.value.message),1)]),e("button",{onClick:t[0]||(t[0]=a=>l.value.show=!1),class:"ml-auto text-slate-300 hover:text-slate-500"},[...t[5]||(t[5]=[e("i",{class:"fas fa-times"},null,-1)])])])):f("",!0)]),_:1}),e("div",B,[e("div",A,[e("div",F,[e("div",P,[t[7]||(t[7]=e("h2",{class:"text-xl font-bold text-gray-900"},"Daftar Dokumen",-1)),e("span",T,o(d.downloads.length)+" Dokumen tersedia",1)]),e("div",V,[(i(!0),r(p,null,v(d.downloads,a=>(i(),r("div",{key:a.id,class:"p-6 hover:bg-gray-50 transition-colors flex items-center group"},[e("div",E,[e("i",{class:k(g(a.type))},null,2)]),e("div",G,[e("h3",H,o(a.judul),1),e("div",I,[e("span",L,o(a.kategori),1),t[8]||(t[8]=e("span",{class:"text-xs text-gray-300"},"â€¢",-1)),e("span",M,o(a.type)+" ("+o(a.size)+")",1)]),e("p",U,o(a.deskripsi),1)]),e("button",{onClick:n=>c(a),class:"ml-4 p-3 px-4 bg-gray-100 text-gray-600 rounded-full hover:bg-blue-600 hover:text-white transition-all duration-300 shadow-sm cursor-pointer",title:"Download File"},[...t[9]||(t[9]=[e("i",{class:"fas fa-download"},null,-1)])],8,W)]))),128)),d.downloads.length===0?(i(),r("div",J,[...t[10]||(t[10]=[e("i",{class:"fas fa-folder-open text-4xl mb-3"},null,-1),e("p",null,"Belum ada dokumen yang tersedia.",-1)])])):f("",!0)])]),e("div",K,[t[12]||(t[12]=e("div",{class:"text-center md:text-left"},[e("h4",{class:"text-xl font-bold mb-1"},"Butuh dokumen lain?"),e("p",{class:"text-blue-100 text-sm"},"Jika dokumen yang Anda cari tidak tersedia, silakan hubungi layanan pengaduan kami.")],-1)),s.$page.props.settings?.info_umum?.whatsapp?(i(),r("a",{key:0,href:"https://wa.me/"+s.$page.props.settings.info_umum.whatsapp,target:"_blank",class:"px-8 py-3 bg-emerald-500 text-white font-bold rounded-full hover:bg-emerald-600 transition-colors shadow-lg flex items-center gap-2"},[...t[11]||(t[11]=[e("i",{class:"fab fa-whatsapp text-xl"},null,-1),_(" Hubungi Petugas ",-1)])],8,S)):f("",!0)])])])]),_:1})],64))}};export{R as default};
