import{u as j,z as _,j as U,s as B,x as C,o,e as x,b as m,f as e,d as a,h as E,c as i,g as n,t as u,y as P,l as S,m as g,i as b,v as V,F as D,r as N,p as F}from"./app-oaFJbbJS.js";import{_ as L}from"./AdminLayout-CY8XNPz3.js";import{C as M}from"./ckeditor-DBG4zwRB.js";/* empty css            */const T={class:"max-w-[1200px] mx-auto px-4"},A={class:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6"},G={class:"flex items-center gap-4 mt-4"},K={class:"px-3 py-1 bg-slate-100 rounded-lg text-slate-400 font-bold text-[10px] uppercase tracking-widest"},z={class:"flex items-center gap-3"},I={key:0,class:"p-8 bg-rose-50 border-2 border-dashed border-rose-100 rounded-[2.5rem] mb-10 flex items-center gap-6"},$={class:"lg:col-span-2 space-y-8"},R={class:"bg-white rounded-[2.5rem] p-8 shadow-sm border border-slate-100"},J={key:0,class:"mt-3 text-rose-500 text-[10px] font-black uppercase tracking-widest flex items-center gap-2 pl-2"},q={class:"bg-white rounded-[2.5rem] p-10 shadow-sm border border-slate-100 editor-container"},H={class:"modern-editor"},O={key:0,class:"mt-4 text-rose-500 text-[10px] font-black uppercase tracking-widest flex items-center gap-2"},Q={class:"space-y-8"},W={class:"bg-white rounded-[2.5rem] p-10 shadow-sm border border-slate-100"},X={class:"mb-10"},Y=["value"],Z={class:"relative group"},ee={key:0,class:"aspect-video rounded-3xl overflow-hidden mb-4 border border-slate-100 shadow-sm relative group/img"},te=["src"],se={key:1,class:"aspect-video rounded-3xl border-2 border-dashed border-slate-100 flex flex-col items-center justify-center cursor-pointer hover:bg-slate-50 transition-all group/upload mb-4"},ae={key:0,class:"mt-2 text-rose-500 text-[10px] font-black uppercase tracking-widest flex items-center gap-2 pl-2"},re={class:"bg-gradient-to-br from-amber-600 to-amber-700 rounded-[2.5rem] p-10 text-white shadow-2xl relative overflow-hidden group"},le=["disabled"],oe={key:0,class:"fas fa-circle-notch fa-spin"},ie={key:1,class:"fas fa-save group-hover:scale-110 transition-transform text-sm"},pe={__name:"Edit",props:{berita:{type:Object,required:!0}},setup(f){const r=f,d=U(null),s=j({_method:"PUT",judul:r.berita?.judul||"",kategori:r.berita?.kategori||"Umum",konten:r.berita?.konten||"",image:null});_(()=>{r.berita&&r.berita.id&&(s.judul=r.berita.judul||"",s.kategori=r.berita.kategori||"Umum",s.konten=r.berita.konten||"",r.berita.image&&(d.value=`/storage/${r.berita.image}`))});const k=["Umum","Prestasi","Ekonomi","Sosial","Pembangunan","Pemerintahan","Kesehatan","Pendidikan"],v=p=>{const t=p.target.files[0];if(t){s.image=t;const c=new FileReader;c.onload=l=>{d.value=l.target.result},c.readAsDataURL(t)}},h=()=>{s.post(route("admin.berita.update",r.berita.id),{forceFormData:!0,preserveScroll:!0})},w=M,y={toolbar:{items:["heading","|","bold","italic","link","|","bulletedList","numberedList","|","outdent","indent","|","blockQuote","insertTable","undo","redo"],shouldNotGroupWhenFull:!0},placeholder:"Tuliskan isi berita di sini..."};return(p,t)=>{const c=B("ckeditor");return o(),C(L,null,{default:x(()=>[m(a(E),{title:`Edit Berita ${a(s).judul||r.berita.judul}`},null,8,["title"]),e("div",T,[e("div",A,[e("div",null,[t[4]||(t[4]=e("div",{class:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-50 text-amber-600 text-[10px] font-black uppercase tracking-widest mb-3"},[e("i",{class:"fas fa-edit text-[8px]"}),n(" Content Editor ")],-1)),t[5]||(t[5]=e("h1",{class:"text-4xl font-black text-slate-900 tracking-tight leading-none uppercase"}," Perbarui Berita ",-1)),e("div",G,[e("div",K,"SLUG: "+u(r.berita?.slug||"?"),1)])]),e("div",z,[m(a(P),{href:p.route("admin.berita.index"),class:"px-6 py-3 rounded-2xl bg-white border border-slate-200 text-slate-600 font-black text-xs hover:bg-slate-50 transition-all flex items-center gap-2 shadow-sm uppercase tracking-widest active:scale-95"},{default:x(()=>[...t[6]||(t[6]=[e("i",{class:"fas fa-arrow-left text-[10px]"},null,-1),n(" Kembali ",-1)])]),_:1},8,["href"])])]),!r.berita||!r.berita.id?(o(),i("div",I,[...t[7]||(t[7]=[e("div",{class:"w-16 h-16 bg-rose-500 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-rose-500/20 shrink-0"},[e("i",{class:"fas fa-exclamation-triangle text-2xl"})],-1),e("div",null,[e("h4",{class:"font-black text-rose-900 uppercase tracking-tight"},"Koneksi Data Terputus"),e("p",{class:"text-rose-600 font-bold text-xs mt-1"},"Data berita gagal dimuat dari server. Silakan coba muat ulang halaman atau kembali ke daftar berita.")],-1)])])):(o(),i("form",{key:1,onSubmit:S(h,["prevent"]),class:"grid grid-cols-1 lg:grid-cols-3 gap-8 pb-32"},[e("div",$,[e("div",R,[t[9]||(t[9]=e("div",{class:"mb-6 flex items-center gap-3"},[e("div",{class:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600 shadow-sm text-sm"},[e("i",{class:"fas fa-font"})]),e("h3",{class:"font-black text-slate-800 text-lg uppercase tracking-tight"},"Judul Berita")],-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>a(s).judul=l),type:"text",class:"w-full bg-slate-50 border-none rounded-2xl px-6 py-5 focus:ring-4 focus:ring-blue-500/5 font-bold text-slate-700 text-xl placeholder:text-slate-200 transition-all uppercase tracking-tight",placeholder:"MENGAMBIL JUDUL..."},null,512),[[V,a(s).judul]]),a(s).errors.judul?(o(),i("div",J,[t[8]||(t[8]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),n(" "+u(a(s).errors.judul),1)])):b("",!0)]),e("div",q,[t[11]||(t[11]=e("div",{class:"mb-6 flex items-center gap-3"},[e("div",{class:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 shadow-sm text-sm"},[e("i",{class:"fas fa-align-left"})]),e("h3",{class:"font-black text-slate-800 text-lg uppercase tracking-tight"},"Isi Konten Berita")],-1)),e("div",H,[m(c,{editor:a(w),modelValue:a(s).konten,"onUpdate:modelValue":t[1]||(t[1]=l=>a(s).konten=l),config:y},null,8,["editor","modelValue"])]),a(s).errors.konten?(o(),i("div",O,[t[10]||(t[10]=e("i",{class:"fas fa-exclamation-circle text-xs"},null,-1)),n(" "+u(a(s).errors.konten),1)])):b("",!0)])]),e("div",Q,[e("div",W,[e("div",X,[t[12]||(t[12]=e("div",{class:"mb-4 flex items-center gap-3"},[e("div",{class:"w-8 h-8 bg-amber-50 rounded-lg flex items-center justify-center text-amber-600 text-[10px]"},[e("i",{class:"fas fa-tags"})]),e("h3",{class:"font-black text-slate-800 text-xs uppercase tracking-widest"},"Kategori")],-1)),g(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>a(s).kategori=l),class:"w-full bg-slate-50 border-none rounded-2xl px-5 py-4 font-bold text-slate-600 text-sm focus:ring-4 focus:ring-amber-500/5 appearance-none cursor-pointer"},[(o(),i(D,null,N(k,l=>e("option",{key:l,value:l},u(l),9,Y)),64))],512),[[F,a(s).kategori]])]),t[17]||(t[17]=e("div",{class:"mb-4 flex items-center gap-3"},[e("div",{class:"w-8 h-8 bg-emerald-50 rounded-lg flex items-center justify-center text-emerald-600 text-[10px]"},[e("i",{class:"fas fa-image"})]),e("h3",{class:"font-black text-slate-800 text-xs uppercase tracking-widest"},"Gambar Utama")],-1)),e("div",Z,[d.value?(o(),i("div",ee,[e("img",{src:d.value,class:"w-full h-full object-cover group-hover/img:scale-105 transition-transform duration-700"},null,8,te),e("button",{onClick:t[3]||(t[3]=l=>{d.value=null,a(s).image=null}),type:"button",class:"absolute top-3 right-3 w-10 h-10 bg-rose-500 text-white rounded-xl flex items-center justify-center shadow-lg hover:bg-rose-600 transition-all opacity-0 group-hover:opacity-100 backdrop-blur-md"},[...t[13]||(t[13]=[e("i",{class:"fas fa-times text-xs"},null,-1)])])])):(o(),i("label",se,[t[14]||(t[14]=e("i",{class:"fas fa-cloud-upload-alt text-3xl text-slate-200 group-hover/upload:text-emerald-400 transition-colors"},null,-1)),t[15]||(t[15]=e("span",{class:"text-[10px] font-black text-slate-400 mt-4 group-hover/upload:text-slate-600 uppercase tracking-widest"},"Ganti Foto",-1)),e("input",{type:"file",onChange:v,class:"hidden",accept:"image/*"},null,32)]))]),a(s).errors.image?(o(),i("div",ae,[t[16]||(t[16]=e("i",{class:"fas fa-exclamation-circle text-[8px]"},null,-1)),n(" "+u(a(s).errors.image),1)])):b("",!0)]),e("div",re,[t[19]||(t[19]=e("div",{class:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:bg-white/20 transition-all duration-700"},null,-1)),t[20]||(t[20]=e("h3",{class:"text-xl font-black mb-4 relative z-10 uppercase tracking-tight leading-none"},"Simpan Edit?",-1)),t[21]||(t[21]=e("p",{class:"text-amber-100 font-bold text-xs mb-10 leading-relaxed relative z-10 opacity-70"}," Data akan langsung diperbarui di portal publik warga. ",-1)),e("button",{type:"submit",disabled:a(s).processing,class:"w-full bg-white text-amber-600 py-5 rounded-3xl font-black text-xs uppercase tracking-widest transition-all shadow-xl shadow-amber-900/40 flex items-center justify-center gap-3 disabled:opacity-50 relative z-10 active:scale-95 group/btn"},[a(s).processing?(o(),i("i",oe)):(o(),i("i",ie)),t[18]||(t[18]=n(" SIMPAN PERUBAHAN ",-1))],8,le)])])],32))])]),_:1})}}};export{pe as default};
