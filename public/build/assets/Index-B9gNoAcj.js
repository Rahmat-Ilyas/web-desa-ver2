import{u as S,s as E,x as F,o,e as g,b,f as e,d as s,h as L,g as d,c as r,i as c,t as n,F as H,r as W,T as P,j as p,l as $,m as v,v as w,n as O}from"./app-BbZXRHil.js";import{_ as R}from"./AdminLayout-OpNB3cz1.js";import{C as G}from"./ckeditor-CJ_PRRMD.js";/* empty css            */const J={class:"max-w-[1200px] mx-auto px-4 sm:px-6 text-slate-700"},Q={class:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6"},Y={class:"flex items-center gap-3"},q=["href"],X={class:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 p-10 mb-12"},Z={class:"mb-6 flex items-center justify-between"},ee=["disabled"],te={key:0,class:"fas fa-circle-notch fa-spin"},se={key:1,class:"fas fa-save"},le={class:"ck-content editor-intro"},ae={key:0,class:"mt-3 text-rose-500 text-xs font-bold"},oe={class:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 p-10 overflow-hidden"},re={class:"mb-10 flex flex-col sm:flex-row sm:items-center justify-between gap-4 font-bold"},ie={class:"space-y-4"},ne={class:"flex flex-col md:flex-row md:items-start justify-between gap-4 min-w-0"},de={class:"flex gap-5 min-w-0 flex-1"},ce={class:"w-20 h-20 bg-white rounded-2xl flex flex-col items-center justify-center border border-slate-100 shadow-sm shrink-0 overflow-hidden transition-transform group-hover:scale-105 duration-300"},ue={class:"text-xs font-black text-blue-600 text-center px-1"},xe={class:"overflow-hidden min-w-0"},fe={class:"font-black text-slate-900 text-lg mb-1 truncate"},be=["innerHTML"],pe={class:"mt-2 flex items-center gap-2"},me={class:"px-3 py-1 bg-white border border-slate-100 rounded-full flex items-center gap-2 shadow-sm"},he={class:"text-[10px] font-black text-slate-400 uppercase tracking-widest"},ge={class:"flex items-center gap-2 self-end md:self-start opacity-0 group-hover:opacity-100 transition-all duration-300 shrink-0"},ve=["onClick"],we=["onClick"],ye={key:0,class:"text-center py-20 bg-slate-50/50 rounded-3xl border border-dashed border-slate-200"},ke={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6"},_e={class:"relative bg-white rounded-[3rem] shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-slate-100 z-10 hide-scrollbar"},je={class:"p-8 sm:p-12"},Te={class:"mb-10 flex items-center justify-between"},Ce={class:"text-3xl font-black text-slate-900 tracking-tight"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Pe={class:"space-y-2"},Ae={key:0,class:"mt-1 text-rose-500 text-[10px] font-bold"},Me={class:"space-y-2"},Ve={key:0,class:"mt-1 text-rose-500 text-[10px] font-bold"},Be={class:"space-y-2"},Ne={key:0,class:"mt-1 text-rose-500 text-[10px] font-bold"},De={class:"space-y-2"},Ie={key:0,class:"mt-1 text-rose-500 text-[10px] font-bold"},Ke={class:"pt-8 flex flex-col-reverse sm:flex-row gap-4"},Ue=["disabled"],ze={key:0,class:"fas fa-circle-notch fa-spin"},Ee={key:0,class:"fixed inset-0 z-[120] flex items-center justify-center p-4"},Fe={class:"relative bg-white rounded-[2.5rem] shadow-2xl max-w-md w-full overflow-hidden border border-slate-100 z-10"},Le={class:"p-10 text-center"},He={class:"mt-10 flex flex-col gap-3"},We=["disabled"],$e={key:0,class:"fas fa-circle-notch fa-spin"},Oe={key:1},Re={key:0,class:"fixed bottom-10 right-10 z-[130] p-6 bg-white border border-emerald-100 rounded-[2rem] flex items-center gap-5 shadow-2xl shadow-emerald-500/5"},Ge={class:"text-slate-500 text-xs font-bold mt-0.5"},Xe={__name:"Index",props:{intro:String,timelines:Array},setup(y){const A=y,V=G,B={toolbar:{items:["heading","|","bold","italic","link","|","bulletedList","numberedList","|","blockQuote","undo","redo"],shouldNotGroupWhenFull:!0},placeholder:"Tuliskan narasi sejarah singkat di sini..."},x=S({intro:A.intro||""}),N=()=>{x.post(route("admin.sejarah.intro"),{preserveScroll:!0,onSuccess:()=>{C("Sejarah singkat berhasil diperbarui")}})},k=p(!1),u=p(null),l=S({year:"",title:"",content:"",order:0}),M=(i=null)=>{u.value=i,i?(l.year=i.year,l.title=i.title,l.content=i.content,l.order=i.order):(l.reset(),l.order=A.timelines.length+1),k.value=!0},m=()=>{k.value=!1,u.value=null,l.reset()},D=()=>{const i=u.value?route("admin.sejarah.timeline.update",u.value.id):route("admin.sejarah.timeline.store");l.post(i,{onSuccess:()=>{m(),C(u.value?"Timeline berhasil diperbarui":"Timeline berhasil ditambahkan")},preserveScroll:!0})},_=p(!1),h=p(null),j=S({}),I=i=>{h.value=i,_.value=!0},T=()=>{_.value=!1,h.value=null},K=()=>{h.value&&j.delete(route("admin.sejarah.timeline.destroy",h.value),{onSuccess:()=>{T(),C("Timeline berhasil dihapus")},preserveScroll:!0})},f=p({show:!1,message:""}),C=i=>{f.value.message=i,f.value.show=!0,setTimeout(()=>f.value.show=!1,3e3)};return(i,t)=>{const U=E("ckeditor");return o(),F(R,null,{default:g(()=>[b(s(L),{title:"Kelola Sejarah Kelurahan"}),e("div",J,[e("div",Q,[t[7]||(t[7]=e("div",null,[e("div",{class:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-50 text-indigo-600 text-[10px] font-black uppercase tracking-widest mb-3"},[e("i",{class:"fas fa-history"}),d(" Profil Wilayah ")]),e("h1",{class:"text-4xl font-black text-slate-900 tracking-tight"},"Sejarah Kelurahan"),e("p",{class:"text-slate-500 font-bold text-sm mt-2"},"Kelola narasi sejarah dan timeline perkembangan kelurahan.")],-1)),e("div",Y,[e("a",{href:i.route("profil.sejarah"),target:"_blank",class:"px-6 py-3 rounded-2xl bg-white border border-slate-200 text-slate-600 font-black text-sm hover:bg-slate-50 transition-all flex items-center gap-2 shadow-sm"},[...t[6]||(t[6]=[e("i",{class:"fas fa-external-link-alt"},null,-1),d(" LIHAT WEB ",-1)])],8,q)])]),e("div",X,[e("div",Z,[t[9]||(t[9]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600"},[e("i",{class:"fas fa-book-open"})]),e("h3",{class:"font-black text-slate-800 text-lg uppercase tracking-tight"},"Sejarah Singkat (Intro) ")],-1)),e("button",{onClick:N,disabled:s(x).processing,class:"bg-indigo-600 text-white px-6 py-2.5 rounded-xl font-black text-xs hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-600/20 flex items-center gap-2"},[s(x).processing?(o(),r("i",te)):(o(),r("i",se)),t[8]||(t[8]=d(" SIMPAN INTRO ",-1))],8,ee)]),e("div",le,[b(U,{editor:s(V),modelValue:s(x).intro,"onUpdate:modelValue":t[0]||(t[0]=a=>s(x).intro=a),config:B},null,8,["editor","modelValue"])]),s(x).errors.intro?(o(),r("p",ae,n(s(x).errors.intro),1)):c("",!0)]),e("div",oe,[e("div",re,[t[11]||(t[11]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600"},[e("i",{class:"fas fa-stream"})]),e("h3",{class:"font-black text-slate-800 text-lg uppercase tracking-tight"},"Timeline Sejarah")],-1)),e("button",{onClick:t[1]||(t[1]=a=>M()),class:"bg-blue-600 text-white px-6 py-3 rounded-xl font-black text-xs hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 flex items-center gap-2"},[...t[10]||(t[10]=[e("i",{class:"fas fa-plus"},null,-1),d(" TAMBAH PERISTIWA ",-1)])])]),e("div",ie,[(o(!0),r(H,null,W(y.timelines,a=>(o(),r("div",{key:a.id,class:"p-6 rounded-3xl border border-slate-50 bg-slate-50/50 hover:bg-white hover:border-blue-100 hover:shadow-xl hover:shadow-blue-900/5 transition-all group"},[e("div",ne,[e("div",de,[e("div",ce,[t[12]||(t[12]=e("span",{class:"text-[10px] font-black text-slate-400 uppercase leading-none mb-1 text-center px-1"},"Periode",-1)),e("span",ue,n(a.year),1)]),e("div",xe,[e("h4",fe,n(a.title),1),e("div",{class:"text-sm text-slate-500 line-clamp-2 whitespace-pre-wrap",innerHTML:a.content},null,8,be),e("div",pe,[e("div",me,[t[13]||(t[13]=e("i",{class:"fas fa-layer-group text-[10px] text-blue-500"},null,-1)),e("span",he,"Urutan: "+n(a.order),1)])])])]),e("div",ge,[e("button",{onClick:z=>M(a),class:"w-11 h-11 rounded-xl bg-white border border-slate-100 text-amber-500 hover:bg-amber-50 hover:border-amber-200 transition-all shadow-sm flex items-center justify-center"},[...t[14]||(t[14]=[e("i",{class:"fas fa-edit"},null,-1)])],8,ve),e("button",{onClick:z=>I(a.id),class:"w-11 h-11 rounded-xl bg-white border border-slate-100 text-rose-500 hover:bg-rose-50 hover:border-rose-200 transition-all shadow-sm flex items-center justify-center"},[...t[15]||(t[15]=[e("i",{class:"fas fa-trash-alt"},null,-1)])],8,we)])])]))),128)),y.timelines.length===0?(o(),r("div",ye,[...t[16]||(t[16]=[e("i",{class:"fas fa-history text-4xl text-slate-200 mb-4"},null,-1),e("p",{class:"text-slate-400 font-bold"},"Belum ada jejak peristiwa sejarah yang diabadikan.",-1)])])):c("",!0)])])]),b(P,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:g(()=>[k.value?(o(),r("div",ke,[e("div",{class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:m}),e("div",_e,[e("div",je,[e("div",Te,[e("div",null,[e("h3",Ce,n(u.value?"Edit Peristiwa":"Tambah Peristiwa"),1),t[17]||(t[17]=e("p",{class:"text-slate-400 font-bold text-sm mt-1 uppercase tracking-widest text-[10px]"}," Detail Jejak Sejarah ",-1))]),e("button",{onClick:m,class:"w-12 h-12 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400 hover:bg-rose-50 hover:text-rose-500 transition-all"},[...t[18]||(t[18]=[e("i",{class:"fas fa-times text-lg"},null,-1)])])]),e("form",{onSubmit:$(D,["prevent"]),class:"space-y-8 font-bold"},[e("div",Se,[e("div",Pe,[t[19]||(t[19]=e("label",{class:"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1"},[e("i",{class:"fas fa-calendar-alt text-blue-500 mr-1"}),d(" Tahun / Periode ")],-1)),v(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s(l).year=a),type:"text",class:"w-full bg-white border-2 border-slate-200 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 font-bold text-slate-800 placeholder:text-slate-400 transition-all",placeholder:"Contoh: 1960 atau Era 1945-1950"},null,512),[[w,s(l).year]]),s(l).errors.year?(o(),r("p",Ae,n(s(l).errors.year),1)):c("",!0)]),e("div",Me,[t[20]||(t[20]=e("label",{class:"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1"},[e("i",{class:"fas fa-sort-numeric-down text-blue-500 mr-1"}),d(" Urutan Tampil ")],-1)),v(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>s(l).order=a),type:"number",class:"w-full bg-white border-2 border-slate-200 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 font-bold text-slate-800 transition-all"},null,512),[[w,s(l).order]]),s(l).errors.order?(o(),r("p",Ve,n(s(l).errors.order),1)):c("",!0)])]),e("div",Be,[t[21]||(t[21]=e("label",{class:"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1"},[e("i",{class:"fas fa-heading text-blue-500 mr-1"}),d(" Judul Peristiwa ")],-1)),v(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>s(l).title=a),type:"text",class:"w-full bg-white border-2 border-slate-200 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 font-bold text-slate-800 text-lg placeholder:text-slate-400 transition-all",placeholder:"Contoh: Pembentukan Kantor Kelurahan Pertama"},null,512),[[w,s(l).title]]),s(l).errors.title?(o(),r("p",Ne,n(s(l).errors.title),1)):c("",!0)]),e("div",De,[t[22]||(t[22]=e("label",{class:"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1"},[e("i",{class:"fas fa-align-left text-blue-500 mr-1"}),d(" Penjelasan Detail ")],-1)),v(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=a=>s(l).content=a),rows:"6",class:"w-full bg-white border-2 border-slate-200 rounded-[2rem] px-8 py-6 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 font-bold text-slate-800 placeholder:text-slate-400 transition-all leading-relaxed resize-none",placeholder:"Ceritakan dengan detail peristiwa sejarah ini..."},null,512),[[w,s(l).content]]),s(l).errors.content?(o(),r("p",Ie,n(s(l).errors.content),1)):c("",!0)]),e("div",Ke,[e("button",{type:"button",onClick:m,class:"flex-1 px-8 py-5 rounded-2xl bg-slate-100 text-slate-500 font-black text-xs hover:bg-slate-200 transition-all uppercase tracking-[0.2em]"}," Batal "),e("button",{type:"submit",disabled:s(l).processing,class:"flex-[2] px-8 py-5 rounded-2xl bg-blue-600 text-white font-black text-xs hover:bg-blue-700 transition-all shadow-2xl shadow-blue-600/30 uppercase tracking-[0.2em] flex items-center justify-center gap-3"},[s(l).processing?(o(),r("i",ze)):(o(),r("i",{key:1,class:O(u.value?"fas fa-save":"fas fa-plus-circle text-lg")},null,2)),d(" "+n(u.value?"Simpan Perubahan":"Terbitkan Peristiwa"),1)],8,Ue)])],32)])])])):c("",!0)]),_:1}),b(P,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:g(()=>[_.value?(o(),r("div",Ee,[e("div",{class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:T}),e("div",Fe,[e("div",Le,[t[23]||(t[23]=e("div",{class:"w-20 h-20 bg-rose-50 rounded-3xl flex items-center justify-center text-rose-500 mx-auto mb-6 shadow-lg shadow-rose-500/10 scale-110"},[e("i",{class:"fas fa-trash-alt text-3xl"})],-1)),t[24]||(t[24]=e("h3",{class:"text-2xl font-black text-slate-900 mb-3 tracking-tight"},"Hapus Timeline?",-1)),t[25]||(t[25]=e("p",{class:"text-slate-500 font-bold text-sm leading-relaxed px-4"},"Tindakan ini permanen. Peristiwa sejarah yang dihapus tidak dapat dipulihkan kembali.",-1)),e("div",He,[e("button",{onClick:K,disabled:s(j).processing,class:"w-full py-4 bg-rose-500 text-white rounded-2xl font-black text-xs hover:bg-rose-600 transition-all shadow-xl shadow-rose-500/20 uppercase tracking-[0.2em] flex items-center justify-center gap-3"},[s(j).processing?(o(),r("i",$e)):(o(),r("span",Oe,"YA, HAPUS SEKARANG"))],8,We),e("button",{onClick:T,class:"w-full py-4 bg-slate-100 text-slate-500 rounded-2xl font-black text-xs hover:bg-slate-200 transition-all uppercase tracking-[0.2em]"}," BATALKAN ")])])])])):c("",!0)]),_:1}),b(P,{"enter-active-class":"transform transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:g(()=>[f.value.show?(o(),r("div",Re,[t[27]||(t[27]=e("div",{class:"w-14 h-14 bg-emerald-500 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-emerald-500/20"},[e("i",{class:"fas fa-check-circle text-2xl"})],-1)),e("div",null,[t[26]||(t[26]=e("h5",{class:"text-slate-900 font-black text-sm"},"Aksi Berhasil!",-1)),e("p",Ge,n(f.value.message),1)])])):c("",!0)]),_:1})]),_:1})}}};export{Xe as default};
