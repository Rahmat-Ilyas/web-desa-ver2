import{w as q,a as O,u as A,x as R,o as i,e as v,b as k,f as t,d as l,h as J,g as x,t as r,l as S,m as b,v as f,C as W,c as d,F as U,r as N,i as P,T,j as h,q as B}from"./app-BbZXRHil.js";import{_ as Y}from"./AdminLayout-OpNB3cz1.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const X={class:"max-w-[1400px] mx-auto px-4 sm:px-6"},Z={class:"grid grid-cols-1 lg:grid-cols-12 gap-10 items-start"},tt={class:"lg:col-span-6 space-y-10"},et={class:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 p-5 md:p-10"},st={class:"space-y-8"},at={class:"pt-8 border-t border-slate-50"},lt={class:"space-y-3 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar"},ot={class:"flex-grow relative"},nt=["onUpdate:modelValue"],rt={class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 text-[10px] font-black"},it=["onClick"],dt=["disabled"],ut={class:"lg:col-span-6 space-y-10"},ct={class:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 p-4 md:p-10 overflow-hidden"},pt={class:"overflow-x-auto mt-4"},xt={class:"w-full text-left border-collapse"},bt={class:"divide-y divide-slate-50"},ft={class:"px-4 py-5 text-center"},mt={class:"font-black text-slate-300 group-hover:text-blue-600 transition-colors text-sm"},gt={class:"px-4 py-5"},vt={class:"flex items-center gap-3"},kt={class:"w-10 h-12 rounded-xl bg-slate-100 overflow-hidden shadow-sm flex-shrink-0"},ht=["src"],wt={class:"overflow-hidden"},yt={class:"font-black text-slate-900 text-sm truncate max-w-[120px] sm:max-w-none"},_t={class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest truncate mt-0.5"},Pt={class:"px-4 py-5 text-right whitespace-nowrap"},jt={class:"flex items-center justify-end gap-1.5 transition-all"},Mt=["onClick"],Tt=["onClick"],Ct={key:0},At={key:0,class:"fixed inset-0 z-[100] overflow-y-auto",role:"dialog"},St={class:"flex min-h-full items-center justify-center p-4"},Ut={class:"relative bg-white rounded-[2.5rem] shadow-2xl w-full max-w-lg p-8 md:p-10"},Nt={class:"flex justify-between items-center mb-8"},Bt={class:"text-2xl font-black text-slate-900 tracking-tight"},Vt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Dt={class:"relative group"},Lt={class:"px-6 py-4 bg-slate-50 border-2 border-dashed border-slate-200 rounded-2xl flex items-center justify-center gap-3 transition-all group-hover:border-blue-500 group-hover:bg-blue-50"},Ft={class:"text-xs font-bold text-slate-500 group-hover:text-blue-600 line-clamp-1"},Kt={class:"pt-4"},It=["disabled"],$t={key:0,class:"fixed inset-0 z-[110] overflow-y-auto",role:"dialog"},zt={class:"flex min-h-full items-center justify-center p-4"},Et={class:"relative bg-white rounded-[2.5rem] shadow-2xl w-full max-w-md p-8 text-center"},Gt={class:"text-slate-500 font-bold text-sm mb-8 leading-relaxed"},Ht={class:"text-slate-900 font-black"},qt={class:"flex gap-4"},Ot={key:0,class:"fixed bottom-10 right-10 z-[110] p-5 bg-white border border-emerald-100 rounded-3xl flex items-center gap-4 shadow-2xl"},Rt={class:"text-slate-500 text-xs font-bold"},V="Pengurus LPMK",Jt={__name:"Index",props:{members:Array,profile:String,tasks:Array},setup(j){const w=j,D=O(),c=h({show:!1,message:"",type:"success"}),M=(o,e="success")=>{c.value.message=o,c.value.type=e,c.value.show=!0,setTimeout(()=>c.value.show=!1,3e3)};q(()=>D.props.flash?.success,o=>{o&&M(o)});const n=A({profil_lpmk:w.profile||"",tugas_lpmk:w.tasks&&w.tasks.length>0?w.tasks:["Menyusun rencana pembangunan yang partisipatif (Musrenbang).","Menggerakkan swadaya gotong royong masyarakat.","Melaksanakan dan mengendalikan pembangunan.","Menampung dan menyalurkan aspirasi masyarakat."]}),L=()=>{n.tugas_lpmk.push("")},F=o=>{n.tugas_lpmk.length>1&&n.tugas_lpmk.splice(o,1)},K=()=>{n.put(route("admin.lpmk.profile.update"),{preserveScroll:!0,onSuccess:()=>M("Profil & Tugas LPMK berhasil diperbarui")})},y=h(!1),p=h(null),a=A({nama:"",jabatan:"",no_hp:"",foto:null,urutan:0}),I=()=>{p.value=null,a.reset(),y.value=!0},$=o=>{p.value=o,a.nama=o.nama,a.jabatan=o.jabatan,a.no_hp=o.no_hp||"",a.urutan=o.urutan||0,a.foto=null,y.value=!0},_=()=>{y.value=!1,a.reset()},z=()=>{p.value?B.post(route("admin.lpmk.update",p.value.id),{_method:"PUT",...a.data()},{forceFormData:!0,onSuccess:()=>_()}):a.post(route("admin.lpmk.store"),{onSuccess:()=>_()})},m=h(!1),g=h(null),E=o=>{g.value=o,m.value=!0},G=()=>{g.value&&B.delete(route("admin.lpmk.destroy",g.value.id),{onSuccess:()=>{M("Data pengurus berhasil dihapus"),m.value=!1,g.value=null}})},H=o=>o?`/storage/${o}`:"https://placehold.co/100x120?text=No+Photo";return(o,e)=>(i(),R(Y,null,{default:v(()=>[k(l(J),{title:V}),t("div",X,[t("div",{class:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10"},[t("div",null,[e[8]||(e[8]=t("span",{class:"inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-widest mb-3 border border-blue-100 shadow-sm"},[t("i",{class:"fas fa-sitemap"}),x(" Lembaga Kelurahan ")],-1)),t("h1",{class:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2"},r(V)),e[9]||(e[9]=t("p",{class:"text-slate-500 font-bold text-sm"},"Kelola data jajaran pengurus LPMK Kelurahan.",-1))])]),t("div",Z,[t("div",tt,[t("div",et,[e[15]||(e[15]=t("div",{class:"flex items-center gap-4 mb-8"},[t("div",{class:"w-12 h-12 rounded-2xl bg-teal-50 text-teal-600 flex items-center justify-center text-xl shadow-sm"},[t("i",{class:"fas fa-edit"})]),t("div",null,[t("h2",{class:"text-xl font-black text-slate-900 leading-none mb-1"},"Profil Lembaga"),t("p",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none"}," Deskripsi & Fungsi")])],-1)),t("form",{onSubmit:S(K,["prevent"]),class:"space-y-10"},[t("div",st,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 ml-3 text-left"},"Deskripsi Profil",-1)),b(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>l(n).profil_lpmk=s),rows:"10",class:"w-full px-6 py-5 bg-slate-50 border-2 border-transparent focus:border-teal-500 focus:bg-white rounded-[2rem] font-bold transition-all outline-none resize-none text-slate-700 leading-relaxed text-sm shadow-inner",placeholder:"Masukkan deskripsi profil LPMK..."},null,512),[[f,l(n).profil_lpmk]])]),t("div",at,[t("div",{class:"flex items-center justify-between mb-4 ml-3"},[e[12]||(e[12]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Tugas Utama",-1)),t("button",{type:"button",onClick:L,class:"text-[10px] font-black text-emerald-600 uppercase tracking-widest hover:text-emerald-700 transition-all flex items-center gap-1.5"},[...e[11]||(e[11]=[t("i",{class:"fas fa-plus"},null,-1),x(" Tambah ",-1)])])]),t("div",lt,[k(W,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:v(()=>[(i(!0),d(U,null,N(l(n).tugas_lpmk,(s,u)=>(i(),d("div",{key:u,class:"flex gap-2 items-start group"},[t("div",ot,[b(t("input",{"onUpdate:modelValue":C=>l(n).tugas_lpmk[u]=C,type:"text",class:"w-full pl-10 pr-4 py-3 bg-slate-50 border-2 border-transparent focus:border-emerald-500 focus:bg-white rounded-[1.25rem] font-bold text-xs transition-all outline-none text-slate-700 shadow-sm",placeholder:"Tuliskan tugas..."},null,8,nt),[[f,l(n).tugas_lpmk[u]]]),t("div",rt,r(u+1),1)]),t("button",{type:"button",onClick:C=>F(u),class:"w-10 h-10 flex-shrink-0 bg-white border border-slate-100 text-slate-300 hover:bg-rose-50 hover:text-rose-500 hover:border-rose-100 rounded-xl transition-all flex items-center justify-center"},[...e[13]||(e[13]=[t("i",{class:"fas fa-trash-alt text-[10px]"},null,-1)])],8,it)]))),128))]),_:1})])])]),t("button",{type:"submit",disabled:l(n).processing,class:"w-full py-4 bg-teal-600 text-white rounded-[1.5rem] font-black text-[10px] uppercase tracking-[0.2em] hover:bg-teal-700 hover:shadow-2xl hover:shadow-teal-600/40 transition-all disabled:opacity-50 flex items-center justify-center gap-2"},[...e[14]||(e[14]=[t("i",{class:"fas fa-save"},null,-1),x(" SIMPAN PROFIL & TUGAS ",-1)])],8,dt)],32)])]),t("div",ut,[t("div",ct,[t("div",{class:"border-b border-slate-50 flex items-center justify-between gap-4 pb-6"},[e[17]||(e[17]=t("div",{class:"flex items-center gap-4"},[t("div",{class:"w-12 h-12 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center text-xl shadow-sm flex-shrink-0"},[t("i",{class:"fas fa-users-cog"})]),t("div",null,[t("h3",{class:"text-lg font-black text-slate-900 tracking-tight leading-none mb-1"}," Daftar Pengurus"),t("p",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none"}," Susunan & Struktur")])],-1)),t("button",{onClick:I,class:"px-5 py-2.5 bg-blue-600 text-white text-[10px] font-black rounded-xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 active:scale-95 flex items-center gap-2 uppercase tracking-widest"},[...e[16]||(e[16]=[t("i",{class:"fas fa-plus text-[10px]"},null,-1),x(" TAMBAH ",-1)])])]),t("div",pt,[t("table",xt,[e[21]||(e[21]=t("thead",null,[t("tr",{class:"bg-slate-50/50"},[t("th",{class:"px-4 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center w-12"}," #"),t("th",{class:"px-4 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest"}," Pengurus"),t("th",{class:"px-4 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"}," Aksi")])],-1)),t("tbody",bt,[(i(!0),d(U,null,N(j.members,s=>(i(),d("tr",{key:s.id,class:"hover:bg-slate-50/50 transition-colors group"},[t("td",ft,[t("span",mt,"#"+r(s.urutan),1)]),t("td",gt,[t("div",vt,[t("div",kt,[t("img",{src:H(s.foto),class:"w-full h-full object-cover"},null,8,ht)]),t("div",wt,[t("p",yt,r(s.nama),1),t("p",_t,r(s.jabatan),1)])])]),t("td",Pt,[t("div",jt,[t("button",{onClick:u=>$(s),class:"w-8 h-8 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center"},[...e[18]||(e[18]=[t("i",{class:"fas fa-edit text-[10px]"},null,-1)])],8,Mt),t("button",{onClick:u=>E(s),class:"w-8 h-8 rounded-xl bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white transition-all flex items-center justify-center"},[...e[19]||(e[19]=[t("i",{class:"fas fa-trash text-[10px]"},null,-1)])],8,Tt)])])]))),128)),j.members.length===0?(i(),d("tr",Ct,[...e[20]||(e[20]=[t("td",{colspan:"3",class:"px-8 py-20 text-center text-slate-400"},[t("p",{class:"font-bold text-[10px] uppercase tracking-widest"},"Belum ada data ")],-1)])])):P("",!0)])])])])])]),k(T,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[y.value?(i(),d("div",At,[t("div",{class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:_}),t("div",St,[t("div",Ut,[t("div",Nt,[t("h2",Bt,r(p.value?"Edit Pengurus":"Tambah Pengurus"),1),t("button",{onClick:_,class:"w-10 h-10 rounded-full bg-slate-50 text-slate-400 hover:text-rose-500 hover:bg-rose-50 transition-all flex items-center justify-center"},[...e[22]||(e[22]=[t("i",{class:"fas fa-times"},null,-1)])])]),t("form",{onSubmit:S(z,["prevent"]),class:"space-y-6 text-left text-slate-700"},[t("div",Vt,[t("div",null,[e[23]||(e[23]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Nama Lengkap",-1)),b(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>l(a).nama=s),type:"text",class:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white rounded-2xl font-bold transition-all outline-none",placeholder:"Nama lengkap...",required:""},null,512),[[f,l(a).nama]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Urutan Tampil",-1)),b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l(a).urutan=s),type:"number",class:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white rounded-2xl font-bold transition-all outline-none",placeholder:"0",required:""},null,512),[[f,l(a).urutan]])])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Jabatan",-1)),b(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l(a).jabatan=s),type:"text",class:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white rounded-2xl font-bold transition-all outline-none",placeholder:"Contoh: Ketua LPMK",required:""},null,512),[[f,l(a).jabatan]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"No. WhatsApp (Opsional)",-1)),b(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l(a).no_hp=s),type:"text",class:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent focus:border-blue-500 focus:bg-white rounded-2xl font-bold transition-all outline-none",placeholder:"08xxxxxxxxxx"},null,512),[[f,l(a).no_hp]])]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-3"},"Foto Pengurus (Opsional)",-1)),t("div",Dt,[t("input",{type:"file",onInput:e[5]||(e[5]=s=>l(a).foto=s.target.files[0]),class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"},null,32),t("div",Lt,[e[27]||(e[27]=t("i",{class:"fas fa-camera text-slate-400 group-hover:text-blue-500"},null,-1)),t("span",Ft,r(l(a).foto?l(a).foto.name:"Pilih Foto JPG/PNG (Maks 1MB)"),1)])])]),t("div",Kt,[t("button",{type:"submit",disabled:l(a).processing,class:"w-full py-5 bg-blue-600 text-white rounded-2xl font-black text-sm hover:bg-blue-700 shadow-xl shadow-blue-600/20 transition-all disabled:opacity-50"},r(p.value?"SIMPAN PERUBAHAN":"TAMBAH PENGURUS"),9,It)])],32)])])])):P("",!0)]),_:1}),k(T,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[m.value?(i(),d("div",$t,[t("div",{class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:e[6]||(e[6]=s=>m.value=!1)}),t("div",zt,[t("div",Et,[e[31]||(e[31]=t("div",{class:"w-20 h-20 bg-rose-50 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 text-3xl"},[t("i",{class:"fas fa-exclamation-triangle"})],-1)),e[32]||(e[32]=t("h2",{class:"text-2xl font-black text-slate-900 mb-2"},"Hapus Pengurus?",-1)),t("p",Gt,[e[29]||(e[29]=x(" Apakah Anda yakin ingin menghapus ",-1)),t("span",Ht,r(g.value?.nama),1),e[30]||(e[30]=x("? Tindakan ini tidak dapat dibatalkan. ",-1))]),t("div",qt,[t("button",{onClick:e[7]||(e[7]=s=>m.value=!1),class:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-200 transition-all"}," Batal "),t("button",{onClick:G,class:"flex-1 py-4 bg-rose-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-rose-700 shadow-xl shadow-rose-600/20 transition-all"}," Ya, Hapus ")])])])])):P("",!0)]),_:1}),k(T,{"enter-active-class":"transform transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[c.value.show?(i(),d("div",Ot,[e[34]||(e[34]=t("div",{class:"w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center text-white"},[t("i",{class:"fas fa-check text-xl"})],-1)),t("div",null,[e[33]||(e[33]=t("p",{class:"text-slate-900 font-black text-sm leading-none mb-1"},"Berhasil!",-1)),t("p",Rt,r(c.value.message),1)])])):P("",!0)]),_:1})])]),_:1}))}},Zt=Q(Jt,[["__scopeId","data-v-9fe5b5d5"]]);export{Zt as default};
