import{u as Y,w as H,a as K,c as r,o as i,b as f,d as o,h as O,e as w,f as t,g as m,F as T,r as N,t as n,T as C,i as d,j as x,k as S,n as L,l as G,m as y,v as B,p as Q,q as F}from"./app-oaFJbbJS.js";import{_ as W}from"./AdminLayout-CY8XNPz3.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const Z={class:"max-w-[1200px] mx-auto px-4 sm:px-6"},tt={class:"mb-5"},et={class:"flex flex-col md:flex-row items-center justify-between gap-4"},at={class:"flex items-center gap-3 w-full md:w-auto"},st={class:"relative w-full sm:w-64"},lt=["value"],ot=["value"],nt={key:0,class:"fixed bottom-10 right-10 z-[60] p-6 bg-white border border-emerald-100 rounded-2xl flex items-center gap-4 shadow-[0_20px_60px_-15px_rgba(0,0,0,0.3)] min-w-[300px]"},rt={class:"text-slate-500 text-xs font-bold mt-0.5"},it={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},dt={class:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-sm flex items-center justify-between group hover:shadow-lg transition-all"},ut={class:"text-3xl font-black text-slate-900 group-hover:text-emerald-600 transition-colors"},ct={class:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-sm flex items-center justify-between group hover:shadow-lg transition-all"},pt={class:"text-3xl font-black text-slate-900 group-hover:text-rose-600 transition-colors"},xt={class:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm overflow-hidden"},bt={class:"overflow-x-auto"},gt={class:"w-full text-left"},ft={class:"divide-y divide-gray-50"},mt={class:"px-8 py-5"},ht={class:"px-8 py-5 font-bold text-slate-700 group-hover:text-blue-600 transition-colors"},vt={class:"px-8 py-5 text-right font-black text-slate-800 text-lg"},wt={class:"px-8 py-5 text-center font-bold text-slate-500 bg-slate-50/50 rounded-xl mx-2"},yt={class:"px-8 py-5"},kt={class:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-all translate-x-2 group-hover:translate-x-0"},_t=["onClick"],jt=["onClick"],Dt={key:0},At={colspan:"5",class:"px-8 py-20 text-center"},Tt={class:"text-slate-500 text-sm"},Ct={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Bt={class:"bg-white rounded-[2.5rem] w-full max-w-lg p-10 shadow-2xl relative z-10"},Mt={class:"flex items-center justify-between mb-8"},It={class:"text-[10px] font-black text-blue-500 uppercase tracking-widest mb-1 block"},Nt={class:"text-2xl font-black text-slate-900"},St={class:"grid grid-cols-2 gap-6"},Ft={class:"col-span-1"},Ut={key:0,class:"text-rose-500 text-[10px] uppercase font-bold mt-2"},Vt={class:"col-span-1"},Pt={key:0,class:"text-rose-500 text-[10px] uppercase font-bold mt-2"},zt={key:0,class:"text-rose-500 text-[10px] uppercase font-bold mt-2"},Rt={key:0,class:"text-rose-500 text-[10px] uppercase font-bold mt-2"},Et={class:"pt-6 flex gap-4"},$t=["disabled"],qt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Jt={class:"bg-white rounded-[2.5rem] w-full max-w-md p-8 shadow-2xl relative z-10 text-center"},Yt={class:"text-slate-500 font-medium text-sm mb-8 leading-relaxed"},Ht={class:"text-slate-800"},Kt={__name:"Index",props:{anggaran:Array,tahun:[String,Number],years:Array},setup(c){const k=c,_=x(!1),j=x(!1),h=x(!1),b=x(null),s=Y({id:null,tahun:new Date().getFullYear(),kategori:"pendapatan",nama:"",jumlah:""}),u=x({show:!1,message:"",type:"success"}),U=K(),v=(a,e="success")=>{u.value.message=a,u.value.type=e,u.value.show=!0,setTimeout(()=>u.value.show=!1,3e3)};H(()=>U.props.flash?.success,a=>{a&&v(a)},{immediate:!0});const p=x(""),M=(a=null)=>{h.value=!!a,a?(s.id=a.id,s.tahun=a.tahun,s.kategori=a.kategori,s.nama=a.nama,s.jumlah=a.jumlah,p.value=I(a.jumlah)):(s.reset(),s.tahun=k.tahun||new Date().getFullYear(),s.kategori="pendapatan",p.value=""),_.value=!0},g=()=>{_.value=!1,s.reset(),s.clearErrors(),p.value=""},I=a=>a?new Intl.NumberFormat("id-ID").format(a):"",V=a=>{let e=a.target.value.replace(/\D/g,"");s.jumlah=e,p.value=I(e)},P=a=>{b.value=a,j.value=!0},D=()=>{j.value=!1,b.value=null},z=()=>{h.value?s.put(route("admin.anggaran.update",s.id),{onSuccess:()=>{g(),v("Data anggaran berhasil diperbarui.","success")}}):s.post(route("admin.anggaran.store"),{onSuccess:()=>{g(),v("Data anggaran berhasil ditambahkan.","success")}})},R=()=>{b.value&&F.delete(route("admin.anggaran.destroy",b.value.id),{onSuccess:()=>{D(),v("Data anggaran berhasil dihapus.","success")}})},A=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),E=S(()=>k.anggaran.filter(a=>a.kategori==="pendapatan").reduce((a,e)=>a+Number(e.jumlah),0)),$=S(()=>k.anggaran.filter(a=>a.kategori==="belanja").reduce((a,e)=>a+Number(e.jumlah),0)),q=a=>{F.get(route("admin.anggaran.index"),{tahun:a.target.value},{preserveState:!0})};return(a,e)=>(i(),r(T,null,[f(o(O),{title:"Manajemen Anggaran"}),f(W,null,{default:w(()=>[t("div",Z,[t("div",tt,[e[9]||(e[9]=t("div",{class:"mb-6"},[t("div",{class:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-widest mb-3"},[t("i",{class:"fas fa-wallet"}),m(" Informasi Publik ")]),t("h1",{class:"text-4xl font-black text-slate-900 tracking-tight"},"Manajemen Anggaran"),t("p",{class:"text-slate-500 font-bold text-sm mt-2"},"Kelola data APBDes dan transparansi anggaran desa. ")],-1)),t("div",et,[t("div",at,[t("div",st,[e[6]||(e[6]=t("i",{class:"far fa-calendar-alt absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 text-sm pointer-events-none"},null,-1)),t("select",{value:c.tahun,onChange:q,class:"w-full pl-12 pr-10 py-4 bg-white border border-slate-100 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all font-bold text-sm text-slate-900 shadow-sm appearance-none cursor-pointer"},[(i(!0),r(T,null,N(c.years,l=>(i(),r("option",{key:l,value:l},"Tahun Anggaran "+n(l),9,ot))),128))],40,lt),e[7]||(e[7]=t("i",{class:"fas fa-chevron-down absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 text-xs pointer-events-none"},null,-1))])]),t("button",{onClick:e[0]||(e[0]=l=>M()),class:"w-full md:w-auto px-8 py-4 rounded-2xl bg-blue-600 text-white font-black text-sm hover:bg-blue-700 transition-all flex items-center justify-center gap-2 shadow-xl shadow-blue-600/20 whitespace-nowrap"},[...e[8]||(e[8]=[t("i",{class:"fas fa-plus"},null,-1),m(" TAMBAH DATA ",-1)])])])]),f(C,{"enter-active-class":"transform transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:w(()=>[u.value.show?(i(),r("div",nt,[e[12]||(e[12]=t("div",{class:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white shadow-lg shadow-emerald-500/30"},[t("i",{class:"fas fa-check text-xl"})],-1)),t("div",null,[e[10]||(e[10]=t("p",{class:"text-slate-900 font-black text-sm uppercase tracking-wide"},"Berhasil!",-1)),t("p",rt,n(u.value.message),1)]),t("button",{onClick:e[1]||(e[1]=l=>u.value.show=!1),class:"ml-auto text-slate-300 hover:text-slate-500"},[...e[11]||(e[11]=[t("i",{class:"fas fa-times"},null,-1)])])])):d("",!0)]),_:1}),t("div",it,[t("div",dt,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2"},"Total Pendapatan",-1)),t("h3",ut,n(A(E.value)),1)]),e[14]||(e[14]=t("div",{class:"w-16 h-16 bg-emerald-50 rounded-2xl flex items-center justify-center text-emerald-500 text-2xl group-hover:bg-emerald-500 group-hover:text-white transition-all duration-300"},[t("i",{class:"fas fa-wallet"})],-1))]),t("div",ct,[t("div",null,[e[15]||(e[15]=t("p",{class:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2"},"Total Belanja",-1)),t("h3",pt,n(A($.value)),1)]),e[16]||(e[16]=t("div",{class:"w-16 h-16 bg-rose-50 rounded-2xl flex items-center justify-center text-rose-500 text-2xl group-hover:bg-rose-500 group-hover:text-white transition-all duration-300"},[t("i",{class:"fas fa-shopping-cart"})],-1))])]),t("div",xt,[t("div",bt,[t("table",gt,[e[21]||(e[21]=t("thead",{class:"bg-slate-50 text-slate-500 text-[10px] uppercase font-black tracking-widest"},[t("tr",null,[t("th",{class:"px-8 py-6"},"Kategori"),t("th",{class:"px-8 py-6"},"Uraian Anggaran"),t("th",{class:"px-8 py-6 text-right"},"Jumlah (Rp)"),t("th",{class:"px-8 py-6 text-center"},"Tahun"),t("th",{class:"px-8 py-6 text-center"},"Aksi")])],-1)),t("tbody",ft,[(i(!0),r(T,null,N(c.anggaran,l=>(i(),r("tr",{key:l.id,class:"hover:bg-slate-50/80 transition-colors group"},[t("td",mt,[t("span",{class:L(["px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest border",l.kategori==="pendapatan"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"])},n(l.kategori),3)]),t("td",ht,n(l.nama),1),t("td",vt,n(A(l.jumlah)),1),t("td",wt,n(l.tahun),1),t("td",yt,[t("div",kt,[t("button",{onClick:J=>M(l),class:"w-10 h-10 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white transition-all flex items-center justify-center shadow-sm hover:shadow-md hover:shadow-blue-200"},[...e[17]||(e[17]=[t("i",{class:"fas fa-edit text-xs"},null,-1)])],8,_t),t("button",{onClick:J=>P(l),class:"w-10 h-10 rounded-xl bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white transition-all flex items-center justify-center shadow-sm hover:shadow-md hover:shadow-rose-200"},[...e[18]||(e[18]=[t("i",{class:"fas fa-trash text-xs"},null,-1)])],8,jt)])])]))),128)),c.anggaran.length===0?(i(),r("tr",Dt,[t("td",At,[e[19]||(e[19]=t("div",{class:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-300"},[t("i",{class:"fas fa-folder-open text-3xl"})],-1)),e[20]||(e[20]=t("p",{class:"text-slate-900 font-bold text-lg mb-1"},"Tidak ada data",-1)),t("p",Tt,"Belum ada data anggaran untuk tahun "+n(c.tahun),1)])])):d("",!0)])])])]),f(C,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:w(()=>[_.value?(i(),r("div",Ct,[t("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:g}),t("div",Bt,[t("div",Mt,[t("div",null,[t("span",It,n(h.value?"UPDATE DATA":"DATA BARU"),1),t("h3",Nt,n(h.value?"Edit Anggaran":"Tambah Anggaran"),1)]),t("button",{onClick:g,class:"w-10 h-10 rounded-full bg-slate-50 text-slate-400 hover:bg-slate-100 hover:text-slate-600 flex items-center justify-center transition-colors"},[...e[22]||(e[22]=[t("i",{class:"fas fa-times"},null,-1)])])]),t("form",{onSubmit:G(z,["prevent"]),class:"space-y-6"},[t("div",St,[t("div",Ft,[e[23]||(e[23]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3"},"Tahun",-1)),y(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>o(s).tahun=l),type:"number",class:"w-full bg-slate-50 border-none rounded-2xl px-5 py-4 font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-300",required:""},null,512),[[B,o(s).tahun]]),o(s).errors.tahun?(i(),r("p",Ut,n(o(s).errors.tahun),1)):d("",!0)]),t("div",Vt,[e[25]||(e[25]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3"},"Kategori",-1)),y(t("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>o(s).kategori=l),class:"w-full bg-slate-50 border-none rounded-2xl px-5 py-4 font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 appearance-none cursor-pointer"},[...e[24]||(e[24]=[t("option",{value:"pendapatan"},"Pendapatan",-1),t("option",{value:"belanja"},"Belanja",-1)])],512),[[Q,o(s).kategori]]),o(s).errors.kategori?(i(),r("p",Pt,n(o(s).errors.kategori),1)):d("",!0)])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3"},"Uraian / Nama Akun",-1)),y(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>o(s).nama=l),type:"text",class:"w-full bg-slate-50 border-none rounded-2xl px-5 py-4 font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-300",placeholder:"Contoh: Dana Desa (DD)",required:""},null,512),[[B,o(s).nama]]),o(s).errors.nama?(i(),r("p",zt,n(o(s).errors.nama),1)):d("",!0)]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3"},"Jumlah Anggaran (Rp)",-1)),y(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>p.value=l),onInput:V,type:"text",class:"w-full bg-slate-50 border-none rounded-2xl px-5 py-4 font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-300",placeholder:"0",required:""},null,544),[[B,p.value]]),o(s).errors.jumlah?(i(),r("p",Rt,n(o(s).errors.jumlah),1)):d("",!0)]),t("div",Et,[t("button",{type:"button",onClick:g,class:"flex-1 bg-white border border-slate-200 text-slate-600 font-black text-xs uppercase tracking-widest py-4 rounded-2xl hover:bg-slate-50 transition-colors"},"Batal"),t("button",{type:"submit",disabled:o(s).processing,class:"flex-1 bg-blue-600 text-white font-black text-xs uppercase tracking-widest py-4 rounded-2xl hover:bg-blue-500 transition-all shadow-xl shadow-blue-500/30 active:scale-95 disabled:opacity-50 disabled:scale-100"},n(o(s).processing?"Menyimpan...":"Simpan Data"),9,$t)])],32)])])):d("",!0)]),_:1}),f(C,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:w(()=>[j.value?(i(),r("div",qt,[t("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:D}),t("div",Jt,[e[32]||(e[32]=t("div",{class:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-6 text-rose-500"},[t("i",{class:"fas fa-trash-alt text-3xl"})],-1)),e[33]||(e[33]=t("h3",{class:"text-xl font-black text-slate-900 mb-2"},"Hapus Data Anggaran?",-1)),t("p",Yt,[e[28]||(e[28]=m(" Anda yakin ingin menghapus data ",-1)),t("strong",Ht,n(b.value?.nama),1),e[29]||(e[29]=m("? ",-1)),e[30]||(e[30]=t("br",null,null,-1)),e[31]||(e[31]=m("Data yang dihapus tidak dapat dikembalikan. ",-1))]),t("div",{class:"flex gap-4"},[t("button",{type:"button",onClick:D,class:"flex-1 bg-slate-100 text-slate-600 font-black text-xs uppercase tracking-widest py-4 rounded-2xl hover:bg-slate-200 transition-colors"}," Batalkan "),t("button",{type:"button",onClick:R,class:"flex-1 bg-rose-600 text-white font-black text-xs uppercase tracking-widest py-4 rounded-2xl hover:bg-rose-500 transition-all shadow-xl shadow-rose-500/30 active:scale-95"}," Ya, Hapus! ")])])])):d("",!0)]),_:1})])]),_:1})],64))}},Wt=X(Kt,[["__scopeId","data-v-f076dca2"]]);export{Wt as default};
