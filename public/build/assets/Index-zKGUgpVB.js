import{u as N,w as z,a as F,c as r,o as n,b as k,d as l,h as M,e as L,f as e,T as W,i as p,j as g,t as d,g as x,l as P,m as c,v,p as B,F as w,r as j,V as E,n as I}from"./app-BfRpnfkx.js";import{_ as R}from"./MainLayout-DNV9sLTi.js";/* empty css            */const G={key:0,class:"fixed bottom-10 right-4 md:right-10 z-[100] p-6 bg-white border border-emerald-100 rounded-30 shadow-[0_20px_60px_-15px_rgba(0,0,0,0.15)] flex items-center gap-4 min-w-[320px] max-w-md rounded-[2rem]"},q={class:"flex-grow"},J={class:"text-slate-500 text-xs font-bold mt-0.5 leading-relaxed"},H={class:"py-20 bg-gray-50 min-h-screen"},O={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Q={class:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start mb-20"},X={class:"bg-white rounded-[3rem] p-8 md:p-12 shadow-2xl border border-gray-100"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Z={class:"block text-sm font-bold text-gray-700 mb-3 flex justify-between items-center"},ee={class:"text-xs font-medium text-gray-400"},te={class:"grid grid-cols-3 gap-4"},ae=["src"],se=["onClick"],oe={key:0,class:"aspect-square rounded-2xl border-2 border-dashed border-gray-200 flex flex-col items-center justify-center cursor-pointer hover:border-rose-500 hover:bg-rose-50 transition-all text-gray-400 hover:text-rose-500"},re={class:"space-y-12 lg:pt-12"},ne={class:"bg-white rounded-[3rem] p-8 md:p-10 shadow-xl border border-gray-100 overflow-hidden relative"},le={class:"relative z-10"},ie={class:"space-y-4"},de={class:"relative group"},ue=["disabled"],pe={key:0,class:"fas fa-spinner fa-spin"},ge={key:1,class:"fas fa-search"},xe={key:0,class:"mt-8 space-y-3 animate-in fade-in slide-in-from-top-4 duration-500 relative z-10"},ce={key:0,class:"p-6 bg-gray-50 rounded-[2rem] text-center border border-dashed border-gray-200"},me={class:"flex items-start gap-3"},be={class:"flex flex-wrap items-center gap-2 mb-1"},fe={class:"text-[9px] font-black text-rose-500 bg-rose-50 px-1.5 py-0.5 rounded-md"},he={class:"text-[9px] font-bold text-gray-400"},ve={class:"font-bold text-gray-900 text-[11px] line-clamp-1 italic"},ye={class:"flex items-center justify-between border-t border-gray-50 pt-3"},ke=["href"],we={class:"p-10 bg-gradient-to-br from-gray-900 to-slate-800 rounded-[3rem] text-white shadow-2xl relative overflow-hidden"},Ae={class:"text-gray-400 mb-8 relative z-10 leading-relaxed"},_e={class:"flex gap-4 relative z-10"},De=["href"],Se={__name:"Index",setup(Ce){const o=N({nama:"",phone:"",kategori:"Layanan Publik",pesan:"",photos:[]}),m=g([]),A=a=>{if(!a)return"";let t=a.replace(/\D/g,"");return t.startsWith("0")&&(t="62"+t.substring(1)),t.startsWith("8")&&(t="62"+t),t},y=g(""),b=g(null),f=g(!1),_=async()=>{const a=A(y.value);if(a){f.value=!0;try{const t=await axios.post(route("pengaduan.track"),{phone:a});b.value=t.data}catch(t){console.error(t),alert("Gagal memuat aduan. Pastikan nomor WhatsApp benar.")}finally{f.value=!1}}},S=a=>{const t=Array.from(a.target.files);if(o.photos.length+t.length>3){alert("Maksimal 3 foto dokumentasi.");return}t.forEach(s=>{o.photos.push(s);const u=new FileReader;u.onload=C=>{m.value.push(C.target.result)},u.readAsDataURL(s)})},K=a=>{o.photos.splice(a,1),m.value.splice(a,1)},i=g({show:!1,message:"",type:"success"}),h=F(),$=(a,t="success")=>{i.value.message=a,i.value.type=t,i.value.show=!0,setTimeout(()=>i.value.show=!1,5e3)};z(()=>h.props.flash?.success,a=>{a&&$(a,"success")});const D=a=>({pending:"Menunggu Verifikasi",proses:"Sedang Diproses",selesai:"Selesai ditangani",ditolak:"Aduan Ditolak"})[a]||a,T=a=>{switch(a){case"pending":return"bg-amber-100 text-amber-700 border-amber-200";case"proses":return"bg-blue-100 text-blue-700 border-blue-200";case"selesai":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"ditolak":return"bg-rose-100 text-rose-700 border-rose-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},U=a=>{const t=h.props.settings?.info_umum?.whatsapp||"628123456789",s=`Halo Admin ${h.props.settings?.sebutan_wilayah||"Kelurahan"} ${h.props.settings?.nama_wilayah||"[Nama Wilayah]"}, saya ingin menanyakan progres aduan saya:
    
Kode Aduan: ${a.kode}
Kategori: ${a.kategori}
Waktu: ${a.created_at}
Status: ${D(a.status)}

Pesan: ${a.pesan}

Mohon informasinya. Terima kasih.`;return`https://wa.me/${t}?text=${encodeURIComponent(s)}`},V=()=>{o.phone=A(o.phone),o.post(route("pengaduan.store"),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{o.reset(),m.value=[]}})};return(a,t)=>(n(),r(w,null,[k(l(M),{title:"Pengaduan Warga"}),k(R,null,{default:L(()=>[k(W,{"enter-active-class":"transform transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:L(()=>[i.value.show?(n(),r("div",G,[t[8]||(t[8]=e("div",{class:"w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-emerald-500/20 flex-shrink-0"},[e("i",{class:"fas fa-check text-xl"})],-1)),e("div",q,[t[6]||(t[6]=e("p",{class:"text-slate-900 font-black text-sm uppercase tracking-wide"},"Laporan Terkirim",-1)),e("p",J,d(i.value.message),1)]),e("button",{onClick:t[0]||(t[0]=s=>i.value.show=!1),class:"text-slate-300 hover:text-slate-500 transition-colors"},[...t[7]||(t[7]=[e("i",{class:"fas fa-times"},null,-1)])])])):p("",!0)]),_:1}),t[34]||(t[34]=e("div",{class:"bg-gradient-to-br from-red-600 to-rose-700 py-20 relative overflow-hidden"},[e("div",{class:"absolute inset-x-0 bottom-0 top-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),e("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center"},[e("div",{class:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl border border-white/30 rotate-3 transition-transform hover:rotate-0"},[e("i",{class:"fas fa-search-location text-3xl text-white"})]),e("h1",{class:"text-4xl md:text-6xl font-black text-white tracking-tight mb-6"},"Lacak & Lapor"),e("p",{class:"text-rose-50 text-xl max-w-2xl mx-auto font-medium"},"Sampaikan keluhan Anda atau pantau status penanganan aduan yang telah dikirim.")])],-1)),e("div",H,[e("div",O,[e("div",Q,[e("div",X,[t[20]||(t[20]=e("h2",{class:"text-2xl font-black text-gray-900 mb-8 flex items-center"},[e("i",{class:"fas fa-paper-plane mr-3 text-rose-500"}),x(" Kirim Aduan ")],-1)),e("form",{onSubmit:P(V,["prevent"]),class:"space-y-6"},[e("div",Y,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Nama Lengkap",-1)),c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l(o).nama=s),type:"text",placeholder:"Masukkan nama Anda",class:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-rose-500/10 focus:border-rose-500 outline-none transition-all duration-300"},null,512),[[v,l(o).nama]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Nomor WhatsApp",-1)),c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l(o).phone=s),type:"tel",placeholder:"08xx xxxx xxxx",class:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-rose-500/10 focus:border-rose-500 outline-none transition-all duration-300"},null,512),[[v,l(o).phone]])])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Kategori Aduan",-1)),c(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>l(o).kategori=s),class:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-rose-500/10 focus:border-rose-500 outline-none transition-all duration-300 appearance-none bg-[url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%23cbd5e1%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3C/polyline%3E%3C/svg%3E')] bg-[length:20px] bg-[right_1.25rem_center] bg-no-repeat"},[...t[11]||(t[11]=[e("option",null,"Layanan Publik",-1),e("option",null,"Infrastruktur & Jalan",-1),e("option",null,"Kebersihan & Lingkungan",-1),e("option",null,"Keamanan & Ketertiban",-1),e("option",null,"Lainnya",-1)])],512),[[B,l(o).kategori]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Pesan Aduan",-1)),c(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>l(o).pesan=s),rows:"5",placeholder:"Ceritakan detail aduan Anda secara lengkap",class:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-3xl focus:ring-4 focus:ring-rose-500/10 focus:border-rose-500 outline-none transition-all duration-300 resize-none"},null,512),[[v,l(o).pesan]])]),e("div",null,[e("label",Z,[t[14]||(t[14]=e("span",null,"Foto Dokumentasi (Opsional)",-1)),e("span",ee,d(l(o).photos.length)+"/3 Foto",1)]),e("div",te,[(n(!0),r(w,null,j(m.value,(s,u)=>(n(),r("div",{key:u,class:"relative group aspect-square rounded-2xl overflow-hidden border border-gray-100 shadow-sm"},[e("img",{src:s,class:"w-full h-full object-cover"},null,8,ae),e("button",{onClick:P(C=>K(u),["prevent"]),class:"absolute top-2 right-2 w-8 h-8 bg-black/50 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[...t[15]||(t[15]=[e("i",{class:"fas fa-times text-xs"},null,-1)])],8,se)]))),128)),l(o).photos.length<3?(n(),r("label",oe,[e("input",{type:"file",class:"hidden",accept:"image/*",onChange:S,multiple:""},null,32),t[16]||(t[16]=e("i",{class:"fas fa-camera text-2xl mb-2"},null,-1)),t[17]||(t[17]=e("span",{class:"text-[10px] font-bold uppercase tracking-wider"},"Tambah",-1))])):p("",!0)]),t[18]||(t[18]=e("p",{class:"mt-3 text-[11px] text-gray-400 leading-relaxed italic"},"Format: JPG, PNG. Ukuran maks 2MB per foto.",-1))]),t[19]||(t[19]=e("button",{type:"submit",class:"w-full py-5 bg-rose-600 text-white font-black text-lg rounded-[2rem] hover:bg-rose-700 hover:shadow-2xl hover:shadow-rose-600/30 transition-all duration-300 active:scale-[0.98]"}," Kirim Laporan Sekarang ",-1))],32)]),e("div",re,[t[33]||(t[33]=e("div",null,[e("h3",{class:"text-3xl font-black text-gray-900 mb-6 font-poppins"},"Alur Penanganan Aduan"),e("div",{class:"space-y-6"},[e("div",{class:"flex gap-6 group"},[e("div",{class:"flex-shrink-0 w-12 h-12 bg-rose-100 text-rose-600 rounded-2xl flex items-center justify-center font-black group-hover:bg-rose-600 group-hover:text-white transition-colors"}," 1"),e("div",null,[e("h4",{class:"font-bold text-gray-900 mb-1 leading-none"},"Verifikasi Laporan"),e("p",{class:"text-gray-500 text-sm"},"Petugas admin akan memvalidasi data dan kategori aduan Anda paling lambat 1x24 jam.")])]),e("div",{class:"flex gap-6 group"},[e("div",{class:"flex-shrink-0 w-12 h-12 bg-rose-100 text-rose-600 rounded-2xl flex items-center justify-center font-black group-hover:bg-rose-600 group-hover:text-white transition-colors"}," 2"),e("div",null,[e("h4",{class:"font-bold text-gray-900 mb-1 leading-none"},"Disposisi Unit"),e("p",{class:"text-gray-500 text-sm"},"Aduan diteruskan ke unit terkait (Kasi Pemerintahan, Kebersihan, atau Polsek setempat).")])]),e("div",{class:"flex gap-6 group"},[e("div",{class:"flex-shrink-0 w-12 h-12 bg-rose-100 text-rose-600 rounded-2xl flex items-center justify-center font-black group-hover:bg-rose-600 group-hover:text-white transition-colors"}," 3"),e("div",null,[e("h4",{class:"font-bold text-gray-900 mb-1 leading-none"},"Tindak Lanjut & Selesai "),e("p",{class:"text-gray-500 text-sm"},"Petugas lapangan melakukan aksi nyata dan status aduan akan diinfokan kembali kepada Anda.")])])])],-1)),e("div",ne,[t[28]||(t[28]=e("div",{class:"absolute top-0 right-0 p-8 opacity-[0.03] scale-125 rotate-12 pointer-events-none text-rose-900"},[e("i",{class:"fas fa-search-location text-7xl"})],-1)),e("div",le,[t[23]||(t[23]=e("h2",{class:"text-xl font-black text-gray-900 mb-2 font-poppins text-left"},"Lacak Status Aduan",-1)),t[24]||(t[24]=e("p",{class:"text-gray-500 font-bold text-[11px] mb-6"},"Masukkan nomor WhatsApp Anda saat melapor.",-1)),e("div",ie,[e("div",de,[t[21]||(t[21]=e("div",{class:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-rose-500 transition-colors"},[e("i",{class:"fab fa-whatsapp"})],-1)),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>y.value=s),type:"tel",placeholder:"Contoh: 081234567890",onKeyup:E(_,["enter"]),class:"w-full pl-14 pr-4 py-4 bg-gray-50 border-none rounded-2xl focus:ring-4 focus:ring-rose-500/10 focus:bg-white font-bold text-gray-700 transition-all text-sm"},null,544),[[v,y.value]])]),e("button",{onClick:_,disabled:f.value,class:"w-full py-4 bg-gray-900 text-white font-black rounded-2xl hover:bg-rose-600 transition-all shadow-xl shadow-gray-900/10 disabled:opacity-50 flex items-center justify-center gap-3 text-sm"},[f.value?(n(),r("i",pe)):(n(),r("i",ge)),t[22]||(t[22]=x(" LACAK STATUS ",-1))],8,ue)])]),b.value?(n(),r("div",xe,[b.value.length===0?(n(),r("div",ce,[...t[25]||(t[25]=[e("p",{class:"text-gray-400 font-bold text-xs"},"Data tidak ditemukan.",-1)])])):p("",!0),(n(!0),r(w,null,j(b.value,s=>(n(),r("div",{key:s.id,class:"p-4 bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-md transition-all flex flex-col gap-3 group"},[e("div",me,[t[26]||(t[26]=e("div",{class:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400 group-hover:bg-rose-50 group-hover:text-rose-500 transition-colors shrink-0"},[e("i",{class:"fas fa-file-alt text-xs"})],-1)),e("div",null,[e("div",be,[e("span",fe,d(s.kode),1),e("span",he,d(s.created_at),1)]),e("p",ve,'"'+d(s.pesan)+'"',1)])]),e("div",ye,[e("div",{class:I(["px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-tight border",T(s.status)])},d(D(s.status)),3),e("a",{href:U(s),target:"_blank",class:"flex items-center gap-2 text-[10px] font-black text-emerald-600 hover:text-emerald-700 transition-colors"},[...t[27]||(t[27]=[e("i",{class:"fab fa-whatsapp"},null,-1),x(" Chat Admin ",-1)])],8,ke)])]))),128))])):p("",!0)]),e("div",we,[t[31]||(t[31]=e("i",{class:"fas fa-headset absolute -right-6 -top-6 text-[150px] opacity-10"},null,-1)),t[32]||(t[32]=e("h4",{class:"text-2xl font-black mb-4 relative z-10 font-poppins"},"Layanan Darurat?",-1)),e("p",Ae,"Untuk kejadian darurat (Kebakaran, Kriminalitas, Bencana), silakan hubungi pusat panggilan darurat atau langsung datangi Kantor "+d(a.$page.props.settings?.sebutan_wilayah||"Lurah")+".",1),e("div",_e,[t[30]||(t[30]=e("a",{href:"tel:112",class:"p-4 bg-white/20 backdrop-blur-md rounded-2xl hover:bg-white/30 transition-colors"},[e("i",{class:"fas fa-phone-alt mr-2"}),x(),e("strong",null,"112")],-1)),a.$page.props.settings?.info_umum?.whatsapp?(n(),r("a",{key:0,href:"https://wa.me/"+a.$page.props.settings.info_umum.whatsapp,target:"_blank",class:"p-4 bg-rose-600 rounded-2xl hover:bg-rose-700 transition-all flex items-center justify-center"},[...t[29]||(t[29]=[e("i",{class:"fab fa-whatsapp mr-2"},null,-1),x(" Chat Admin ",-1)])],8,De)):p("",!0)])])])])])])]),_:1})],64))}};export{Se as default};
